{"version":3,"sources":["webpack:///./src/js/Core/ExtensionResources.js","webpack:///./src/js/Core/Html/Html.js","webpack:///./src/js/Options/Modules/ChangelogBuilder.js","webpack:///./src/js/Core/Errors/Errors.js","webpack:///./src/js/Core/Storage/CookieStorage.js","webpack:///./src/js/Core/Environment.js","webpack:///./src/js/Core/Localization/Language.js","webpack:///./src/js/Core/BackgroundSimple.js","webpack:///./src/js/Core/Info.js","webpack:///./src/js/Core/Storage/SyncedStorage.js","webpack:///./src/js/Core/Localization/Localization.js","webpack:///./src/js/Core/Utils/TimeUtils.js","webpack:///./src/js/Core/Permissions.js","webpack:///./src/js/Options/Modules/Fader.js","webpack:///./src/js/Options/Modules/SaveIndicator.js","webpack:///./src/js/Options/Modules/CustomLinks.js","webpack:///./src/js/Options/Modules/ITADConnectionManager.js","webpack:///./src/js/Options/Modules/Data/LocaleCredits.js","webpack:///./src/js/Options/Modules/LocaleCreditsBuilder.js","webpack:///./src/js/Options/Modules/Data/OptionsSetup.js","webpack:///./src/js/Options/Modules/OptionsTranslator.js","webpack:///./src/js/Options/Modules/Data/CountryList.js","webpack:///./src/js/Options/Modules/Region.js","webpack:///./src/js/Options/Modules/Sidebar.js","webpack:///./src/js/Options/Modules/Data/StoreList.js","webpack:///./src/js/Background/Modules/ContextMenu.js","webpack:///./src/js/Core/Storage/UserNotesAdapter.js","webpack:///./src/js/Options/options.js","webpack:///./src/js/Core/Downloader.js","webpack:///./src/js/Options/Modules/OptionsBuilder.js"],"names":["ExtensionResources","pathname","browser","runtime","getURL","fetch","get","then","r","json","text","str","map","replace","m","html","template","document","createElement","innerHTML","DOMPurify","sanitize","content","fragment","firstElementChild","node","_node","console","warn","querySelector","Element","_getNode","outerHTML","wrapper","element","replaceWith","append","position","insertAdjacentHTML","adjacent","ChangelogBuilder","data","getJSON","version","logHtml","Object","entries","Error","CookieStorage","name","defaultValue","_name","trim","cache","has","val","ttl","_val","set","encodeURIComponent","cookie","delete","Map","key","split","kv","decodeURIComponent","init","ContextType","freeze","currentContext","extension","getBackgroundPage","bgPage","window","BACKGROUND","OPTIONS","CONTENT_SCRIPT","Language","this","_currentSteamLanguage","script","querySelectorAll","language","URL","src","searchParams","isContentScript","languages","array","includes","getCurrentSteamLanguage","BackgroundSimple","message","sendMessage","requested","params","length","getManifest","SyncedStorage","prototype","hasOwnProperty","call","_cache","defaults","value","_adapter","remove","prefix","keys","filter","k","startsWith","force","tmp","persistent","reduce","acc","option","clear","import","storage","onChanged","addListener","changes","assign","onDone","onCatch","JSON","stringify","QUOTA_BYTES_PER_ITEM","sync","local","Localization","code","_promise","currentSteamLanguage","storedSteamLanguage","deepAssign","target","source","action","getLanguageCode","codes","push","Promise","all","lc","loadLocalization","english","path","reverse","current","pop","Timer","duration","resolve","_id","setTimeout","onSuccess","onFail","clearTimeout","ResettableTimer","reset","_running","async","TimeUtils","Math","trunc","Date","now","PermissionOptions","Permissions","permissionList","permissions","contains","request","contextMenus","removeAll","permission","onAdded","onRemoved","p","optionToRemove","unusedPermissions","_getUnusedPermissions","used","Set","setup","add","unused","Array","from","values","Fader","property","initialValue","finalValue","durationMs","style","transition","timer","applyCSSTransition","fadeInDuration","fadeOutDuration","idleDuration","controlId","toString","dataset","fadeControl","fadeIn","fadeOut","SaveIndicator","_currentSaves","classList","displayTime","CustomLinks","container","_container","_type","type","_template","options","icon","addEventListener","closest","_save","_create","links","link","cloneNode","url","checked","enabled","customLinks","row","_read","saved","ITADConnectionManager","itadStatus","itadAction","_itadStatus","_itadAction","connect","textContent","connected","disconnected","disconnect","toggle","_clickHandler","LocaleCreditsBuilder","_total","_deepCount","obj","cnt","lang","locale","credits","LocaleCredits","coverage","_computeCoverage","toFixed","OptionsTranslator","translation","getString","error","nodes","getTranslation","localeText","localeHtml","langTrl","toLowerCase","title","thewordoptions","_localizeText","_localizeHtml","_localizeLanguageOptions","CountryList","Region","e","_removeHandler","_changeFlag","_addRegionHtml","loadDefault","_clear","populate","selectnode","className","country","cc","selected","countryClass","countries","Sidebar","topOffset","scrollY","getBoundingClientRect","top","scrollTo","contentNode","sidebarNode","currentSelected","currentHighlight","_handleCategoryClick","_handleSectionClick","category","contentId","id","newPage","currentPage","group","hasSections","_scrollTo","section","_contentNodes","_timer","running","resettableTimer","rect","bottom","innerHeight","_highlight","categories","sidebarEl","localeKey","contentEl","multiClass","sectionsNode","sections","forEach","sectionMenu","innerText","groupNode","_handleClick","_scrollHandler","StoreList","ContextMenu","info","query","selectionText","queryLinks","menuItemId","steamKeys","match","alert","no_keys_found","steamKey","tabs","create","chrome","lastError","build","UserNotesAdapter","Adapter","adapters","user_notes_adapter","toType","currentAdapter","getAdapter","newAdapter","export","OutOfCapacityError","ratio","super","constructor","CapacityInfo","closeToFull","utilization","_notes","appid","note","oldNote","storageUsage","_getNotesSize","notes","Options","self","profileLinkImagesSelect","changelogLoaded","loadProfileLinkImages","icons","display","loadOptions","setting","parentOption","nxt","nextElementSibling","n","getElementById","parentNode","storesNode","stores","store","indexOf","loadStores","importSettings","input","reader","FileReader","importedSettings","parse","result","err","groupEnd","settings_mngmt","import_fail","import_success","location","reload","readAsText","files","exportSettings","filename","a","href","createObjectURL","download","dispatchEvent","MouseEvent","Blob","toJson","clearSettings","confirm","fadeInFadeOut","saveOption","saving","parseFloat","success","requestOption","removeOption","update","changeAdapter","saveOptionFromEvent","setValue","selector","addCurrencies","currencies","select","cu","abbr","sort","currency","el","appendChild","Defaults","dynamic","OptionsSetup","button","dynamicColor","dynamicSelect","optionsHtml","optionValue","optionLocale","dynamicWrap","_buildCheckboxes","_buildSelect","_buildWrapped","translate","run","isNaN","importInput","click"],"mappings":"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N,GAAM,UACN,GAAM,aACN,GAAM,WACN,GAAM,UACN,GAAM,UACN,GAAM,SACN,GAAM,QACN,GAAM,UACN,GAAM,SACN,GAAM,UACN,GAAM,yBACN,GAAM,WACN,GAAM,gBACN,GAAM,SACN,GAAM,iCACN,GAAM,yBACN,GAAM,SACN,GAAM,WACN,GAAM,eACN,GAAM,UACN,GAAM,WACN,GAAM,WACN,GAAM,SACN,GAAM,aACN,GAAM,iBACN,GAAM,2BACN,GAAM,OACN,GAAM,QACN,GAAM,QACN,GAAM,WACN,GAAM,UACN,GAAM,sBACN,GAAM,mBACN,GAAM,eACN,GAAM,aACN,GAAM,UACN,GAAM,OACN,GAAM,SACN,GAAM,iBACN,GAAM,gBACN,GAAM,UACN,GAAM,WACN,GAAM,WACN,GAAM,qBACN,GAAM,UACN,GAAM,QACN,GAAM,cACN,GAAM,oBACN,GAAM,UACN,GAAM,UACN,GAAM,WACN,GAAM,mBACN,GAAM,gBACN,GAAM,OACN,GAAM,UACN,GAAM,SACN,GAAM,gBACN,GAAM,mBACN,GAAM,8BACN,GAAM,QACN,GAAM,SACN,GAAM,UACN,GAAM,UACN,GAAM,QACN,GAAM,YACN,GAAM,SACN,GAAM,YACN,GAAM,UACN,GAAM,aACN,GAAM,OACN,GAAM,YACN,GAAM,WACN,GAAM,SACN,GAAM,gBACN,GAAM,SACN,GAAM,QACN,GAAM,oCACN,GAAM,WACN,GAAM,sBACN,GAAM,UACN,GAAM,UACN,GAAM,QACN,GAAM,YACN,GAAM,OACN,GAAM,OACN,GAAM,UACN,GAAM,cACN,GAAM,SACN,GAAM,QACN,GAAM,UACN,GAAM,QACN,GAAM,SACN,GAAM,SACN,GAAM,aACN,GAAM,QACN,GAAM,WACN,GAAM,SACN,GAAM,aACN,GAAM,OACN,GAAM,SACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,QACN,GAAM,gBACN,GAAM,YACN,GAAM,aACN,GAAM,kBACN,GAAM,YACN,GAAM,aACN,GAAM,SACN,GAAM,WACN,GAAM,WACN,GAAM,OACN,GAAM,QACN,GAAM,mBACN,GAAM,aACN,GAAM,aACN,GAAM,YACN,GAAM,UACN,GAAM,SACN,GAAM,aACN,GAAM,UACN,GAAM,SACN,GAAM,WACN,GAAM,aACN,GAAM,aACN,GAAM,UACN,GAAM,aACN,GAAM,kBACN,GAAM,UACN,GAAM,QACN,GAAM,QACN,GAAM,cACN,GAAM,uBACN,GAAM,gBACN,GAAM,cACN,GAAM,YACN,GAAM,QACN,GAAM,UACN,GAAM,OACN,GAAM,iBACN,GAAM,cACN,GAAM,2BACN,GAAM,SACN,GAAM,OACN,GAAM,WACN,GAAM,QACN,GAAM,0BACN,GAAM,SACN,GAAM,mBACN,GAAM,WACN,GAAM,OACN,GAAM,cACN,GAAM,mBACN,GAAM,SACN,GAAM,WACN,GAAM,cACN,GAAM,QACN,GAAM,UACN,GAAM,SACN,GAAM,SACN,GAAM,UACN,GAAM,eACN,GAAM,wBACN,GAAM,cACN,GAAM,4BACN,GAAM,mCACN,GAAM,QACN,GAAM,aACN,GAAM,eACN,GAAM,UACN,GAAM,SACN,GAAM,aACN,GAAM,eACN,GAAM,YACN,GAAM,WACN,GAAM,WACN,GAAM,kBACN,GAAM,UACN,GAAM,eACN,GAAM,gBACN,GAAM,cACN,GAAM,QACN,GAAM,YACN,GAAM,QACN,GAAM,WACN,GAAM,YACN,GAAM,SACN,GAAM,cACN,GAAM,QACN,GAAM,wBACN,GAAM,SACN,GAAM,aACN,GAAM,WACN,GAAM,WACN,GAAM,cACN,GAAM,OACN,GAAM,UACN,GAAM,QACN,GAAM,sBACN,GAAM,UACN,GAAM,SACN,GAAM,eACN,GAAM,2BACN,GAAM,SACN,GAAM,8BACN,GAAM,sBACN,GAAM,SACN,GAAM,UACN,GAAM,uBACN,GAAM,iBACN,GAAM,gBACN,GAAM,UACN,GAAM,aACN,GAAM,UACN,GAAM,eACN,GAAM,YACN,GAAM,UACN,GAAM,oBACN,GAAM,iBACN,GAAM,QACN,GAAM,SACN,GAAM,YC3OV,MAAMC,EAEF,cACIvM,KAAK2I,WAAazM,SAASY,cAAc,eAEzCkD,KAAK2I,WACAM,iBAAiB,SAASuD,IAAOD,EAAOE,eAAeD,MAE5DxM,KAAK2I,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","file":"js/options.js","sourcesContent":["\r\nclass ExtensionResources {\r\n\r\n    static getURL(pathname) {\r\n        return browser.runtime.getURL(pathname);\r\n    }\r\n\r\n    static get(pathname) {\r\n        return fetch(ExtensionResources.getURL(pathname));\r\n    }\r\n\r\n    static getJSON(pathname) {\r\n        return ExtensionResources.get(pathname).then(r => r.json());\r\n    }\r\n\r\n    static getText(pathname) {\r\n        return ExtensionResources.get(pathname).then(r => r.text());\r\n    }\r\n}\r\n\r\nexport {ExtensionResources};\r\n","\r\nclass HTML {\r\n\r\n    static escape(str) {\r\n\r\n        // @see https://stackoverflow.com/a/4835406\r\n        const map = {\r\n            \"&\": \"&amp;\",\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            '\"': \"&quot;\",\r\n            \"'\": \"&#039;\"\r\n        };\r\n\r\n        return str.replace(/[&<>\"']/g, (m) => { return map[m]; });\r\n    }\r\n\r\n    static fragment(html) {\r\n        const template = document.createElement(\"template\");\r\n        template.innerHTML = DOMPurify.sanitize(html);\r\n        return template.content;\r\n    }\r\n\r\n    static element(html) {\r\n        return HTML.fragment(html).firstElementChild;\r\n    }\r\n\r\n    static _getNode(node) {\r\n        let _node = node;\r\n\r\n        if (typeof _node == \"undefined\" || _node === null) {\r\n            console.warn(`${_node} is not an Element.`);\r\n            return null;\r\n        }\r\n        if (typeof _node == \"string\") {\r\n            _node = document.querySelector(_node);\r\n        }\r\n        if (!(_node instanceof Element)) {\r\n            console.warn(`${_node} is not an Element.`);\r\n            return null;\r\n        }\r\n\r\n        return _node;\r\n    }\r\n\r\n    static inner(node, html) {\r\n        const _node = HTML._getNode(node);\r\n\r\n        if (_node) {\r\n            _node.innerHTML = DOMPurify.sanitize(html);\r\n        }\r\n        return _node;\r\n    }\r\n\r\n    static replace(node, html) {\r\n        const _node = HTML._getNode(node);\r\n\r\n        if (_node) {\r\n            _node.outerHTML = DOMPurify.sanitize(html);\r\n        }\r\n        return _node;\r\n    }\r\n\r\n    static wrap(node, html) {\r\n        const _node = HTML._getNode(node);\r\n\r\n        if (_node) {\r\n            const wrapper = HTML.element(html);\r\n            _node.replaceWith(wrapper);\r\n            wrapper.append(_node);\r\n            return wrapper;\r\n        } else {\r\n            return _node;\r\n        }\r\n    }\r\n\r\n    static adjacent(node, position, html) {\r\n        const _node = HTML._getNode(node);\r\n\r\n        if (_node) {\r\n            _node.insertAdjacentHTML(position, DOMPurify.sanitize(html));\r\n        }\r\n        return _node;\r\n    }\r\n\r\n    static beforeBegin(node, html) {\r\n        HTML.adjacent(node, \"beforebegin\", html);\r\n    }\r\n\r\n    static afterBegin(node, html) {\r\n        HTML.adjacent(node, \"afterbegin\", html);\r\n    }\r\n\r\n    static beforeEnd(node, html) {\r\n        HTML.adjacent(node, \"beforeend\", html);\r\n    }\r\n\r\n    static afterEnd(node, html) {\r\n        HTML.adjacent(node, \"afterend\", html);\r\n    }\r\n}\r\n\r\nexport {HTML};\r\n","import {ExtensionResources} from \"../../Core/ExtensionResources\";\r\nimport {HTML} from \"../../Core/Html/Html\";\r\n\r\nclass ChangelogBuilder {\r\n\r\n    async build() {\r\n        const data = await ExtensionResources.getJSON(\"changelog.json\");\r\n\r\n        let html = \"\";\r\n        for (const [version, logHtml] of Object.entries(data)) {\r\n\r\n            html += `\r\n                <h2>${version}</h2>\r\n                <div>${logHtml}</div>\r\n            `;\r\n        }\r\n\r\n        HTML.inner(\r\n            document.querySelector(\".js-changelog\"),\r\n            html\r\n        );\r\n    }\r\n}\r\n\r\nexport {ChangelogBuilder};\r\n","\r\nclass LoginError extends Error {\r\n    constructor(type) {\r\n        super(type);\r\n        this.name = \"LoginError\";\r\n    }\r\n}\r\n\r\nclass ServerOutageError extends Error {\r\n    constructor(msg) {\r\n        super(msg);\r\n        this.name = \"ServerOutageError\";\r\n    }\r\n}\r\n\r\nclass HTTPError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n    }\r\n}\r\n\r\n\r\nclass FeatureDependencyError extends Error {\r\n    constructor(msg, featureName) {\r\n        super(msg);\r\n        this.featureName = featureName;\r\n    }\r\n}\r\n\r\nconst Errors = {\r\n    \"LoginError\": LoginError,\r\n    \"ServerOutageError\": ServerOutageError,\r\n    \"HTTPError\": HTTPError,\r\n    \"FeatureDependencyError\": FeatureDependencyError\r\n};\r\n\r\nexport {Errors};\r\n","\r\nclass CookieStorage {\r\n\r\n    static get(name, defaultValue) {\r\n        const _name = name.trim();\r\n\r\n        if (!CookieStorage.cache.has(_name)) {\r\n            return defaultValue;\r\n        }\r\n        return CookieStorage.cache.get(_name);\r\n    }\r\n\r\n    static set(name, val, ttl = 60 * 60 * 24 * 365) {\r\n        let _name = name.trim();\r\n        let _val = val.trim();\r\n\r\n        CookieStorage.cache.set(_name, _val);\r\n\r\n        _name = encodeURIComponent(_name);\r\n        _val = encodeURIComponent(_val);\r\n        document.cookie = `${_name}=${_val}; max-age=${ttl}`;\r\n    }\r\n\r\n    static remove(name) {\r\n        let _name = name.trim();\r\n        CookieStorage.cache.delete(_name);\r\n        _name = encodeURIComponent(_name);\r\n        document.cookie = `${_name}; expires=Thu, 01 Jan 1970 00:00:00 GMT`;\r\n    }\r\n\r\n    static init() {\r\n        CookieStorage.cache = new Map();\r\n        for (let [key, val] of document.cookie.split(\";\").map(kv => kv.split(\"=\"))) {\r\n            key = key.trim();\r\n            CookieStorage.cache.set(key, decodeURIComponent(val));\r\n        }\r\n    }\r\n}\r\n\r\nCookieStorage.init();\r\n\r\nexport {CookieStorage};\r\n","\r\nconst ContextType = Object.freeze({\r\n    \"BACKGROUND\": 1,\r\n    \"CONTENT_SCRIPT\": 2,\r\n    \"OPTIONS\": 3,\r\n});\r\n\r\nlet currentContext;\r\nif (browser.extension.getBackgroundPage) {\r\n    const bgPage = browser.extension.getBackgroundPage();\r\n\r\n    currentContext = (bgPage === window)\r\n        ? ContextType.BACKGROUND\r\n        : ContextType.OPTIONS;\r\n} else {\r\n    currentContext = ContextType.CONTENT_SCRIPT;\r\n}\r\n\r\nclass Environment {\r\n\r\n    static isBackgroundScript() {\r\n        return currentContext === ContextType.BACKGROUND;\r\n    }\r\n\r\n    static isContentScript() {\r\n        return currentContext === ContextType.CONTENT_SCRIPT;\r\n    }\r\n\r\n    static isOptions() {\r\n        return currentContext === ContextType.OPTIONS;\r\n    }\r\n}\r\n\r\nexport {Environment};\r\n","import {CookieStorage} from \"../Storage/CookieStorage\";\r\nimport {Environment} from \"../Environment\";\r\n\r\nclass Language {\r\n\r\n    static getCurrentSteamLanguage() {\r\n        if (this._currentSteamLanguage !== null) {\r\n            return this._currentSteamLanguage;\r\n        }\r\n\r\n        for (const script of document.querySelectorAll(\"script[src]\")) {\r\n            const language = new URL(script.src).searchParams.get(\"l\");\r\n            if (language) {\r\n                Language._currentSteamLanguage = language;\r\n                return this._currentSteamLanguage;\r\n            }\r\n        }\r\n\r\n        // In a Content Context, we can check for a cookie\r\n        if (Environment.isContentScript()) {\r\n            Language._currentSteamLanguage = CookieStorage.get(\"Steam_Language\") || null;\r\n        }\r\n\r\n        return this._currentSteamLanguage;\r\n    }\r\n\r\n    static getLanguageCode(language) {\r\n        const code = Language.languages[language];\r\n        return code || \"en\";\r\n    }\r\n\r\n    static isCurrentLanguageOneOf(array) {\r\n        return array.includes(Language.getCurrentSteamLanguage());\r\n    }\r\n}\r\n\r\nLanguage._currentSteamLanguage = null;\r\nLanguage.languages = {\r\n    \"english\": \"en\",\r\n    \"bulgarian\": \"bg\",\r\n    \"czech\": \"cs\",\r\n    \"danish\": \"da\",\r\n    \"dutch\": \"nl\",\r\n    \"finnish\": \"fi\",\r\n    \"french\": \"fr\",\r\n    \"greek\": \"el\",\r\n    \"german\": \"de\",\r\n    \"hungarian\": \"hu\",\r\n    \"italian\": \"it\",\r\n    \"japanese\": \"ja\",\r\n    \"koreana\": \"ko\",\r\n    \"norwegian\": \"no\",\r\n    \"polish\": \"pl\",\r\n    \"portuguese\": \"pt-PT\",\r\n    \"brazilian\": \"pt-BR\",\r\n    \"russian\": \"ru\",\r\n    \"romanian\": \"ro\",\r\n    \"schinese\": \"zh-CN\",\r\n    \"spanish\": \"es-ES\",\r\n    \"latam\": \"es-419\",\r\n    \"swedish\": \"sv-SE\",\r\n    \"tchinese\": \"zh-TW\",\r\n    \"thai\": \"th\",\r\n    \"turkish\": \"tr\",\r\n    \"ukrainian\": \"ua\",\r\n    \"vietnamese\": \"vi\",\r\n};\r\n\r\nexport {Language};\r\n","\r\nclass BackgroundSimple {\r\n    static message(message) {\r\n        return browser.runtime.sendMessage(message);\r\n    }\r\n\r\n    static action(requested, ...params) {\r\n        if (!params.length) { return this.message({\"action\": requested}); }\r\n        return this.message({\"action\": requested, \"params\": params});\r\n    }\r\n}\r\n\r\nexport {BackgroundSimple};\r\n","\r\nconst Info = {\r\n    \"version\": browser.runtime.getManifest().version,\r\n    \"db_version\": 3,\r\n};\r\n\r\nexport {Info};\r\n","import {Info} from \"../Info\";\r\n\r\nclass SyncedStorage {\r\n\r\n    /*\r\n     * browser.storage.sync limits\r\n     * QUOTA_BYTES = 102400 // 100KB\r\n     * QUOTA_BYTES_PER_ITEM = 8192 // 8KB\r\n     * MAX_ITEMS = 512\r\n     * MAX_WRITE_OPERATIONS_PER_HOUR = 1800\r\n     * MAX_WRITE_OPERATIONS_PER_MINUTE = 120\r\n     */\r\n    static has(key) {\r\n        return Object.prototype.hasOwnProperty.call(this._cache, key);\r\n    }\r\n\r\n    static get(key) {\r\n        if (typeof this._cache[key] == \"undefined\") {\r\n            if (typeof this.defaults[key] == \"undefined\") {\r\n                console.warn(`Unrecognized SyncedStorage key \"${key}\"`);\r\n            }\r\n            return this.defaults[key];\r\n        }\r\n        return this._cache[key];\r\n    }\r\n\r\n    static set(key, value) {\r\n        this._cache[key] = value;\r\n        return this._adapter.set({[key]: value});\r\n\r\n        // this will throw if MAX_WRITE_*, MAX_ITEMS, QUOTA_BYTES* are exceeded\r\n    }\r\n\r\n    static import(entries) {\r\n        for (const [key, value] of Object.entries(entries)) {\r\n            this._cache[key] = value;\r\n        }\r\n        return this._adapter.set(entries);\r\n    }\r\n\r\n    static remove(key) {\r\n        if (typeof this._cache[key] !== \"undefined\") {\r\n            delete this._cache[key];\r\n        }\r\n        return this._adapter.remove(key);\r\n\r\n        // can throw if MAX_WRITE* is exceeded\r\n    }\r\n\r\n    static keys(prefix = \"\") {\r\n        return Object.keys(this._cache).filter(k => k.startsWith(prefix));\r\n    }\r\n\r\n    static entries() {\r\n        return Object.entries(this._cache);\r\n    }\r\n\r\n    static async clear(force = false) {\r\n\r\n        let tmp;\r\n        if (force) {\r\n            this._cache = {};\r\n        } else {\r\n            tmp = this.persistent.reduce((acc, option) => {\r\n                acc[option] = this._cache[option];\r\n                return acc;\r\n            }, {});\r\n        }\r\n\r\n        // can throw if MAX_WRITE* is exceeded\r\n        await this._adapter.clear();\r\n\r\n        if (!force) {\r\n            await this.import(tmp);\r\n        }\r\n    }\r\n\r\n    // load whole storage and make local copy\r\n    static async init() {\r\n        browser.storage.onChanged.addListener(changes => {\r\n            for (const [key, {\"newValue\": val}] of Object.entries(changes)) {\r\n                this._cache[key] = val;\r\n            }\r\n        });\r\n\r\n        const storage = await this._adapter.get(null);\r\n        Object.assign(this._cache, storage);\r\n\r\n        return this._cache;\r\n    }\r\n\r\n    static then(onDone, onCatch) {\r\n        return this.init().then(onDone, onCatch);\r\n    }\r\n\r\n    static toJson() {\r\n        return JSON.stringify(this._cache);\r\n    }\r\n}\r\n\r\nSyncedStorage.QUOTA_BYTES_PER_ITEM = 8192;\r\n\r\nSyncedStorage._adapter = browser.storage.sync || browser.storage.local;\r\nSyncedStorage._cache = {};\r\nSyncedStorage.defaults = Object.freeze({\r\n    \"language\": \"english\",\r\n\r\n    \"version\": Info.version,\r\n    \"version_show\": true,\r\n\r\n    \"highlight_owned_color\": \"#00ce67\",\r\n    \"highlight_wishlist_color\": \"#0491bf\",\r\n    \"highlight_coupon_color\": \"#a26426\",\r\n    \"highlight_inv_gift_color\": \"#800040\",\r\n    \"highlight_inv_guestpass_color\": \"#513c73\",\r\n    \"highlight_notinterested_color\": \"#4f4f4f\",\r\n    \"highlight_collection_color\": \"#856d0e\",\r\n    \"highlight_waitlist_color\": \"#4c7521\",\r\n\r\n    \"tag_owned_color\": \"#00b75b\",\r\n    \"tag_wishlist_color\": \"#0383b4\",\r\n    \"tag_coupon_color\": \"#c27120\",\r\n    \"tag_inv_gift_color\": \"#b10059\",\r\n    \"tag_inv_guestpass_color\": \"#65449a\",\r\n    \"tag_notinterested_color\": \"#4f4f4f\",\r\n    \"tag_collection_color\": \"#856d0e\",\r\n    \"tag_waitlist_color\": \"#4c7521\",\r\n\r\n    \"highlight_owned\": true,\r\n    \"highlight_wishlist\": true,\r\n    \"highlight_coupon\": false,\r\n    \"highlight_inv_gift\": false,\r\n    \"highlight_inv_guestpass\": false,\r\n    \"highlight_notinterested\": false,\r\n    \"highlight_excludef2p\": false,\r\n    \"highlight_collection\": true,\r\n    \"highlight_waitlist\": true,\r\n\r\n    \"tag_owned\": false,\r\n    \"tag_wishlist\": false,\r\n    \"tag_coupon\": false,\r\n    \"tag_inv_gift\": false,\r\n    \"tag_inv_guestpass\": false,\r\n    \"tag_notinterested\": true,\r\n    \"tag_collection\": false,\r\n    \"tag_waitlist\": false,\r\n    \"tag_short\": false,\r\n\r\n    \"hidetmsymbols\": false,\r\n\r\n    \"showlowestprice\": true,\r\n    \"showlowestprice_onwishlist\": true,\r\n    \"showlowestpricecoupon\": true,\r\n    \"showallstores\": true,\r\n    \"stores\": [],\r\n    \"override_price\": \"auto\",\r\n    \"showregionalprice\": \"mouse\",\r\n    \"regional_countries\": [\"us\", \"gb\", \"ru\", \"br\", \"au\", \"jp\"],\r\n\r\n    \"show_es_homepagetabs\": true,\r\n    \"showmarkettotal\": false,\r\n    \"showsteamrepapi\": true,\r\n    \"showmcus\": true,\r\n    \"showoc\": true,\r\n    \"showhltb\": true,\r\n    \"showyoutube\": true,\r\n    \"showtwitch\": true,\r\n    \"showpcgw\": true,\r\n    \"showcompletionistme\": false,\r\n    \"showprotondb\": false,\r\n    \"showviewinlibrary\": false,\r\n    \"showsteamcardexchange\": false,\r\n    \"showitadlinks\": true,\r\n    \"showsteamdb\": true,\r\n    \"showbartervg\": false,\r\n    \"showastatslink\": true,\r\n    \"showyoutubegameplay\": true,\r\n    \"showyoutubereviews\": true,\r\n    \"showwsgf\": true,\r\n    \"exfgls\": true,\r\n    \"app_custom_link\": [\r\n        {\r\n            \"enabled\": false,\r\n            \"name\": \"Google\",\r\n            \"url\": \"google.com/search?q=[ID]+[NAME]\",\r\n            \"icon\": \"www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n\r\n    \"customize_apppage\": {\r\n        \"recentupdates\": true,\r\n        \"reviews\": true,\r\n        \"about\": true,\r\n        \"contentwarning\": true,\r\n        \"steamchart\": true,\r\n        \"steamspy\": true,\r\n        \"surveys\": true,\r\n        \"sysreq\": true,\r\n        \"legal\": true,\r\n        \"morelikethis\": true,\r\n        \"recommendedbycurators\": true,\r\n        \"customerreviews\": true\r\n    },\r\n\r\n    \"customize_frontpage\": {\r\n        \"featuredrecommended\": true,\r\n        \"specialoffers\": true,\r\n        \"trendingamongfriends\": true,\r\n        \"discoveryqueue\": true,\r\n        \"browsesteam\": true,\r\n        \"curators\": true,\r\n        \"morecuratorrecommendations\": true,\r\n        \"recentlyupdated\": true,\r\n        \"fromdevelopersandpublishersthatyouknow\": true,\r\n        \"popularvrgames\": true,\r\n        \"homepagetabs\": true,\r\n        \"gamesstreamingnow\": true,\r\n        \"under\": true,\r\n        \"updatesandoffers\": true,\r\n        \"homepagesidebar\": true\r\n    },\r\n\r\n    // 'show_keylol_links': false, // not in use, option is commented out\r\n    \"show_package_info\": false,\r\n    \"show_steamchart_info\": true,\r\n    \"show_steamspy_info\": true,\r\n    \"show_early_access\": true,\r\n    \"show_alternative_linux_icon\": false,\r\n    \"show_itad_button\": false,\r\n    \"skip_got_steam\": false,\r\n\r\n    \"installsteam\": \"show\",\r\n    \"openinnewtab\": false,\r\n    \"keepssachecked\": false,\r\n    \"showemptywishlist\": true,\r\n    \"user_notes_app\": true,\r\n    \"user_notes_wishlist\": true,\r\n    \"showwishliststats\": true,\r\n    \"user_notes\": {},\r\n    \"user_notes_adapter\": \"synced_storage\",\r\n    \"replaceaccountname\": true,\r\n    \"showlanguagewarning\": true,\r\n    \"showlanguagewarninglanguage\": \"english\",\r\n    \"homepage_tab_selection\": \"remember\",\r\n    \"homepage_tab_last\": null,\r\n    \"send_age_info\": true,\r\n    \"removebroadcasts\": false,\r\n    \"mp4video\": false,\r\n    \"horizontalscrolling\": true,\r\n    \"showsupportinfo\": true,\r\n    \"showdrm\": true,\r\n    \"regional_hideworld\": false,\r\n    \"showinvnav\": true,\r\n    \"quickinv\": true,\r\n    \"quickinv_diff\": -0.01,\r\n    \"community_default_tab\": \"\",\r\n    \"showallachievements\": false,\r\n    \"showallstats\": true,\r\n    \"showachinstore\": true,\r\n    \"showcomparelinks\": false,\r\n    \"hideactivelistings\": false,\r\n    \"showlowestmarketprice\": true,\r\n    \"hidespamcomments\": false,\r\n    \"spamcommentregex\": \"[\\\\u2500-\\\\u25FF]\",\r\n    \"wlbuttoncommunityapp\": true,\r\n    \"removeguideslanguagefilter\": false,\r\n    \"disablelinkfilter\": false,\r\n    \"sortfriendsby\": \"default_ASC\",\r\n    \"sortreviewsby\": \"default_ASC\",\r\n    \"sortgroupsby\": \"default_ASC\",\r\n    \"show1clickgoo\": true,\r\n    \"show_profile_link_images\": \"gray\",\r\n    \"show_custom_themes\": true,\r\n    \"profile_steamrepcn\": true,\r\n    \"profile_steamgifts\": true,\r\n    \"profile_steamtrades\": true,\r\n    \"profile_bartervg\": true,\r\n    \"profile_steamrep\": true,\r\n    \"profile_steamdbcalc\": true,\r\n    \"profile_astats\": true,\r\n    \"profile_backpacktf\": true,\r\n    \"profile_astatsnl\": true,\r\n    \"profile_steamid\": true,\r\n    \"profile_custom_link\": [\r\n        {\r\n            \"enabled\": true,\r\n            \"name\": \"Google\",\r\n            \"url\": \"google.com/search?q=[ID]\",\r\n            \"icon\": \"www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n    \"fav_emoticons\": [],\r\n    \"group_steamgifts\": true,\r\n    \"steamcardexchange\": true,\r\n    \"purchase_dates\": true,\r\n    \"show_badge_progress\": true,\r\n    \"show_coupon\": true,\r\n    \"show_wishlist_link\": true,\r\n    \"show_wishlist_count\": true,\r\n    \"show_progressbar\": true,\r\n    \"show_backtotop\": false,\r\n\r\n    \"profile_showcase_twitch\": true,\r\n    \"profile_showcase_own_twitch\": false,\r\n    \"profile_showcase_twitch_profileonly\": false,\r\n\r\n    \"itad_import_library\": false,\r\n    \"itad_import_wishlist\": false,\r\n    \"add_to_waitlist\": false,\r\n\r\n    \"context_steam_store\": false,\r\n    \"context_steam_market\": false,\r\n    \"context_itad\": false,\r\n    \"context_bartervg\": false,\r\n    \"context_steamdb\": false,\r\n    \"context_steamdb_instant\": false,\r\n    \"context_steam_keys\": false,\r\n});\r\nSyncedStorage.persistent = [\r\n    \"user_notes\",\r\n    \"user_notes_adapter\",\r\n];\r\n\r\nexport {SyncedStorage};\r\n","import {BackgroundSimple} from \"../BackgroundSimple\";\r\nimport {ExtensionResources} from \"../ExtensionResources\";\r\nimport {Language} from \"./Language\";\r\nimport {SyncedStorage} from \"../Storage/SyncedStorage\";\r\n\r\n\r\nclass Localization {\r\n\r\n    static loadLocalization(code) {\r\n        return ExtensionResources.getJSON(`/localization/${code}.json`);\r\n    }\r\n\r\n    static init() {\r\n        if (Localization._promise) { return Localization._promise; }\r\n\r\n        let currentSteamLanguage = Language.getCurrentSteamLanguage();\r\n        const storedSteamLanguage = SyncedStorage.get(\"language\");\r\n        if (currentSteamLanguage === null) {\r\n            currentSteamLanguage = storedSteamLanguage;\r\n        } else if (currentSteamLanguage !== storedSteamLanguage) {\r\n            SyncedStorage.set(\"language\", currentSteamLanguage);\r\n            BackgroundSimple.action(\"clearpurchases\");\r\n        }\r\n\r\n        function deepAssign(target, source) {\r\n\r\n            // Object.assign() but deep-assigning objects recursively\r\n            for (const [key, val] of Object.entries(source)) {\r\n                if (typeof target[key] === \"undefined\") {\r\n                    console.warn(\"The key %s doesn't exist in the English localization file\", key);\r\n                    continue;\r\n                }\r\n                if (typeof val === \"object\") {\r\n                    deepAssign(target[key], val);\r\n                } else if (val !== \"\") {\r\n                    target[key] = val;\r\n                }\r\n            }\r\n            return target;\r\n        }\r\n\r\n        const local = Language.getLanguageCode(currentSteamLanguage);\r\n        const codes = [\"en\"];\r\n        if (local !== null && local !== \"en\") {\r\n            codes.push(local);\r\n        }\r\n        Localization._promise = Promise.all(\r\n            codes.map(lc => Localization.loadLocalization(lc))\r\n        ).then(([english, local]) => {\r\n            Localization.str = english;\r\n            if (local) {\r\n                deepAssign(Localization.str, local);\r\n            }\r\n            return Localization.str;\r\n        });\r\n        return Localization._promise;\r\n    }\r\n\r\n    static then(onDone, onCatch) {\r\n        return Localization.init().then(onDone, onCatch);\r\n    }\r\n\r\n    static getString(key) {\r\n\r\n        // Source: http://stackoverflow.com/a/24221895\r\n        const path = key.split(\".\").reverse();\r\n        let current = Localization.str;\r\n\r\n        while (path.length) {\r\n            if (typeof current !== \"object\") {\r\n                return null;\r\n            }\r\n            current = current[path.pop()];\r\n        }\r\n        return current;\r\n    }\r\n}\r\n\r\nLocalization._promise = null;\r\n\r\n\r\nexport {Localization};\r\n","class Timer {\r\n\r\n    constructor(duration) {\r\n        this._promise = new Promise(resolve => {\r\n            this._id = setTimeout(() => { resolve(); }, duration);\r\n        });\r\n    }\r\n\r\n    then(onSuccess, onFail) {\r\n        if (this._promise) {\r\n            return this._promise.then(onSuccess, onFail);\r\n        }\r\n\r\n        throw new Error(\"Timer has been cleared before\");\r\n    }\r\n\r\n    clear() {\r\n        clearTimeout(this._id);\r\n        this._promise = null;\r\n    }\r\n}\r\n\r\nclass ResettableTimer {\r\n\r\n    constructor(onDone, duration) {\r\n        this.onDone = onDone;\r\n        this.duration = duration;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    get running() { return this._running; }\r\n\r\n    reset() {\r\n        if (typeof this._id !== \"undefined\") {\r\n            clearTimeout(this._id);\r\n        }\r\n\r\n        this._id = setTimeout(async() => {\r\n            await this.onDone();\r\n            this._running = false;\r\n        }, this.duration);\r\n\r\n        this._running = true;\r\n    }\r\n}\r\n\r\nclass TimeUtils {\r\n\r\n    static timer(duration) {\r\n        return new Timer(duration);\r\n    }\r\n\r\n    static resettableTimer(onDone, duration) {\r\n        return new ResettableTimer(onDone, duration);\r\n    }\r\n\r\n    static now() {\r\n        return Math.trunc(Date.now() / 1000);\r\n    }\r\n}\r\n\r\nexport {TimeUtils};\r\n","import {SyncedStorage} from \"./Storage/SyncedStorage\";\r\n\r\nconst PermissionOptions = Object.freeze({\r\n    \"context_steam_store\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_steam_market\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_itad\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_bartervg\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_steamdb\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_steamdb_instant\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n    \"context_steam_keys\": {\r\n        \"persistent\": true,\r\n        \"permissions\": [\"contextMenus\"]\r\n    },\r\n});\r\n\r\nclass Permissions {\r\n\r\n    /**\r\n     * @return Promise\r\n     */\r\n    static contains(permissionList) {\r\n        return browser.permissions.contains({\"permissions\": permissionList});\r\n    }\r\n\r\n    /**\r\n     * @return Promise\r\n     */\r\n    static async request(permissionList) {\r\n        // Prevents requesting permissions that are not optional (contextMenus for Firefox)\r\n        if (await this.contains(permissionList)) { return true; }\r\n\r\n        return browser.permissions.request({\"permissions\": permissionList});\r\n    }\r\n\r\n    /**\r\n     * @return Promise\r\n     */\r\n    static remove(permissionList) {\r\n        if (permissionList.includes(\"contextMenus\")) {\r\n            browser.contextMenus.removeAll();\r\n        }\r\n        return browser.permissions.remove({\"permissions\": permissionList});\r\n    }\r\n\r\n    static async when(permission, onAdded, onRemoved) {\r\n        if (onAdded) {\r\n            if (await Permissions.contains([permission])) {\r\n                onAdded();\r\n            }\r\n\r\n            browser.permissions.onAdded.addListener(p => {\r\n                if (p.permissions.includes(permission)) {\r\n                    onAdded();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (onRemoved) {\r\n            browser.permissions.onRemoved.addListener(p => {\r\n                if (p.permissions.includes(permission)) {\r\n                    onRemoved();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    static requestOption(option) {\r\n        return Permissions.request(PermissionOptions[option].permissions);\r\n    }\r\n\r\n    static removeOption(optionToRemove) {\r\n\r\n        // If any of the permissions is in use by another option, don't remove.\r\n        const unusedPermissions = Permissions._getUnusedPermissions(optionToRemove);\r\n        if (unusedPermissions.length === 0) {\r\n            return Promise.resolve(true);\r\n        }\r\n\r\n        return Permissions.remove(unusedPermissions);\r\n    }\r\n\r\n    static _getUnusedPermissions(option) {\r\n        const used = new Set();\r\n        for (const [key, setup] of Object.entries(PermissionOptions)) {\r\n            if (option === key || (setup.persistent && !SyncedStorage.get(key))) {\r\n                continue;\r\n            }\r\n\r\n            for (const p of setup.permissions) {\r\n                used.add(p);\r\n            }\r\n        }\r\n\r\n        const unused = new Set();\r\n        for (const p of PermissionOptions[option].permissions) {\r\n            if (!used.has(p)) {\r\n                unused.add(p);\r\n            }\r\n        }\r\n\r\n        return Array.from(unused.values());\r\n    }\r\n}\r\n\r\nexport {PermissionOptions, Permissions};\r\n","import {TimeUtils} from \"../../Core/Utils/TimeUtils\";\r\n\r\nclass Fader {\r\n\r\n    static async applyCSSTransition(node, property, initialValue, finalValue, durationMs) {\r\n        node.style.transition = \"\";\r\n        node.style[property] = initialValue;\r\n\r\n        await TimeUtils.timer(0);\r\n\r\n        node.style.transition = `${property} ${durationMs}ms`;\r\n        node.style[property] = finalValue;\r\n\r\n        return TimeUtils.timer(durationMs);\r\n    }\r\n\r\n    static fadeIn(node, duration = 400) {\r\n        return Fader.applyCSSTransition(node, \"opacity\", 0, 1, duration);\r\n    }\r\n\r\n    static async fadeOut(node, duration = 400) {\r\n        await Fader.applyCSSTransition(node, \"opacity\", 1, 0, duration);\r\n    }\r\n\r\n    static async fadeInFadeOut(node, fadeInDuration = 400, fadeOutDuration = 400, idleDuration = 600) {\r\n        const controlId = Date.now().toString();\r\n        node.dataset.fadeControl = controlId;\r\n\r\n        Fader.fadeIn(node, fadeInDuration);\r\n        await TimeUtils.timer(fadeInDuration + idleDuration);\r\n\r\n        if (node.dataset.fadeControl === controlId) {\r\n            Fader.fadeOut(node, fadeOutDuration);\r\n        }\r\n    }\r\n}\r\n\r\nexport {Fader};\r\n","import {TimeUtils} from \"../../Core/Utils/TimeUtils\";\r\nimport {Fader} from \"./Fader\";\r\n\r\nclass SaveIndicator {\r\n\r\n    static saving() {\r\n        if (this._currentSaves++ > 0) { return; }\r\n\r\n        document.querySelector(\".js-options-saving\").classList.remove(\"is-hidden\");\r\n        document.querySelector(\".js-options-saved\").classList.add(\"is-hidden\");\r\n\r\n        this._promise = Fader.fadeIn(document.querySelector(\".js-options-save\"));\r\n    }\r\n\r\n    static async saved() {\r\n        if (--this._currentSaves > 0) { return; }\r\n\r\n        document.querySelector(\".js-options-saving\").classList.add(\"is-hidden\");\r\n        document.querySelector(\".js-options-saved\").classList.remove(\"is-hidden\");\r\n\r\n        await this._promise;\r\n        this._promise = null;\r\n        await TimeUtils.timer(this.displayTime);\r\n\r\n        if (this._promise !== null) { return; }\r\n\r\n        Fader.fadeOut(document.querySelector(\".js-options-save\"));\r\n    }\r\n\r\n}\r\n\r\nSaveIndicator.displayTime = 600;\r\n\r\nSaveIndicator._promise = null;\r\nSaveIndicator._currentSaves = 0;\r\n\r\nexport {SaveIndicator};\r\n","import {HTML, Localization, SyncedStorage} from \"../../modulesCore\";\r\nimport {SaveIndicator} from \"./SaveIndicator\";\r\n\r\nclass CustomLinks {\r\n\r\n    constructor(container) {\r\n        this._container = container;\r\n\r\n        this._type = container.dataset.type;\r\n    }\r\n\r\n    init() {\r\n        this._template = HTML.element(\r\n            `<div class=\"custom-link option js-custom-link\">\r\n                <input type=\"checkbox\" name=\"${this._type}_custom_enabled\">\r\n                <div>\r\n                    <div>\r\n                        <label class=\"custom-link__label\">${Localization.str.options.name}</label>\r\n                        <input class=\"custom-link__input\" type=\"text\" name=\"${this._type}_custom_name\" maxlength=\"30\">\r\n                    </div>\r\n                    <div>\r\n                        <label class=\"custom-link__label\">URL</label>\r\n                        <input class=\"custom-link__input\" type=\"text\" name=\"${this._type}_custom_url\">\r\n                    </div>\r\n                    <div>\r\n                        <label class=\"custom-link__label\">${Localization.str.options.icon}</label>\r\n                        <input class=\"custom-link__input\" type=\"text\" name=\"${this._type}_custom_icon\">\r\n                    </div>\r\n                </div>\r\n                <button class=\"custom-link__close js-custom-link-remove\"></button>\r\n            </div>`\r\n        );\r\n\r\n        this._container.addEventListener(\"click\", ({target}) => {\r\n            if (!target.classList || !target.classList.contains(\"js-custom-link-remove\")) { return; }\r\n            target.closest(\".js-custom-link\").remove();\r\n            this._save();\r\n        });\r\n\r\n        this._container.addEventListener(\"change\", ({target}) => {\r\n            if (!target.closest(\".js-custom-link\")) { return; }\r\n            this._save();\r\n        });\r\n\r\n        document.querySelector(`.js-${this._type}-custom-link-add`).addEventListener(\"click\", () => {\r\n            this._create(SyncedStorage.defaults[`${this._type}_custom_link`][0]);\r\n            this._save();\r\n        });\r\n    }\r\n\r\n    populate() {\r\n        HTML.inner(this._container, \"\");\r\n\r\n        const links = SyncedStorage.get(`${this._type}_custom_link`);\r\n        for (const link of links) {\r\n            this._create(link);\r\n        }\r\n    }\r\n\r\n    // TODO (KarlCastle?) Want to replace this with a CustomElement when the support is wider. CustomElements were added in FF63.\r\n    _create(link) {\r\n        const node = this._template.cloneNode(true);\r\n\r\n        let url = link.url;\r\n        if (url && !url.includes(\"[ID]\")) {\r\n            url += \"[ID]\";\r\n        }\r\n\r\n        node.querySelector(`[name=\"${this._type}_custom_enabled\"]`).checked = link.enabled;\r\n        node.querySelector(`[name=\"${this._type}_custom_name\"]`).value = link.name;\r\n        node.querySelector(`[name=\"${this._type}_custom_url\"]`).value = url;\r\n        node.querySelector(`[name=\"${this._type}_custom_icon\"]`).value = link.icon;\r\n\r\n        this._container.append(node);\r\n    }\r\n\r\n    _read(node) {\r\n        return {\r\n            \"enabled\": node.querySelector(`[name=\"${this._type}_custom_enabled\"]`).checked,\r\n            \"name\": node.querySelector(`[name=\"${this._type}_custom_name\"]`).value,\r\n            \"url\": node.querySelector(`[name=\"${this._type}_custom_url\"]`).value,\r\n            \"icon\": node.querySelector(`[name=\"${this._type}_custom_icon\"]`).value,\r\n        };\r\n    }\r\n\r\n    _save() {\r\n        const customLinks = this._container.querySelectorAll(\".js-custom-link\");\r\n        const links = [];\r\n        for (const row of customLinks) {\r\n            const link = this._read(row);\r\n            if (!link.enabled && !link.name && !link.url && !link.icon) {\r\n                continue;\r\n            }\r\n            links.push(link);\r\n        }\r\n\r\n        SyncedStorage.set(`${this._type}_custom_link`, links);\r\n        SaveIndicator.saved();\r\n    }\r\n}\r\n\r\nexport {CustomLinks};\r\n","import {BackgroundSimple} from \"../../Core/BackgroundSimple\";\r\nimport {Localization} from \"../../Core/Localization/Localization\";\r\n\r\nclass ITADConnectionManager {\r\n\r\n    constructor() {\r\n        const [itadStatus, itadAction] = document.querySelectorAll(\".js-itad-status, .js-itad-action\");\r\n        this._itadStatus = itadStatus;\r\n        this._itadAction = itadAction;\r\n    }\r\n\r\n    async _clickHandler() {\r\n\r\n        const connect = this._itadStatus.classList.contains(\"itad-status--disconnected\");\r\n\r\n        if (connect) {\r\n            await BackgroundSimple.action(\"itad.authorize\");\r\n        } else {\r\n            await BackgroundSimple.action(\"itad.disconnect\");\r\n        }\r\n\r\n        this._itadStatus.textContent = connect ? Localization.str.connected : Localization.str.disconnected;\r\n        this._itadAction.textContent = connect ? Localization.str.disconnect : Localization.str.connect;\r\n\r\n        this._itadStatus.classList.toggle(\"itad-status--disconnected\", !connect);\r\n        this._itadStatus.classList.toggle(\"itad-status--connected\", connect);\r\n    }\r\n\r\n    async run() {\r\n\r\n        if (await BackgroundSimple.action(\"itad.isconnected\")) {\r\n            this._itadStatus.textContent = Localization.str.connected;\r\n            this._itadAction.textContent = Localization.str.disconnect;\r\n            this._itadStatus.classList.add(\"itad-status--connected\");\r\n        } else {\r\n            this._itadStatus.textContent = Localization.str.disconnected;\r\n            this._itadAction.textContent = Localization.str.connect;\r\n            this._itadStatus.classList.add(\"itad-status--disconnected\");\r\n        }\r\n\r\n        this._itadAction.addEventListener(\"click\", () => { this._clickHandler(); });\r\n    }\r\n}\r\n\r\nexport {ITADConnectionManager};\r\n","\r\nexport default {\r\n    \"brazilian\":\r\n        \"Berna, Mougevit, Ricci, Rubens Vincius, Scopel, Titoncio, Yachagon, xAranda\"\r\n        + \"(NO AUDIO),  Happy, Greg Strider, Lus, Matheus R., Rahone Marcelino\",\r\n\r\n    \"bulgarian\":\r\n        \"Castro Wilde, The Nominomicon, XepouH, sappy\",\r\n\r\n    \"czech\":\r\n        \"Arcane, Bezdak, Martin005[CZ], benetti32|cz, chriss01cz, dapil, xXx_P$0vcXVI_xXx\",\r\n\r\n    \"danish\":\r\n        \"Cake!, Chreddy, Mig_Mikkel [], Redzdaz, Saturate, SnoX, UltraSun, XDRosenheim, antim\",\r\n\r\n    \"dutch\":\r\n        \"AreUTalking2Meh, Bennievv, Boelens, Craven, Epicon, FooBar, HumanaSays, Justin, Nujj, Yeuxkes, Dylwan, Revadike\",\r\n\r\n    \"finnish\":\r\n        \"3ventic, Elekton, Hilloh, Lumppari, Mairo vain..., Major Parsnip, Master Indigo, Nightmare_182, \"\r\n        + \"NikoDaGreat, Tumpo, frozen.aerocrane, mkfin\",\r\n\r\n    \"french\":\r\n        \"Clockmaker, Nuator, Quaelor, Stumpokapow, Vardex, Yanuut, eucalyptux\",\r\n\r\n    \"german\":\r\n        \"Darkbird |, Edward Cullen, FuriousFry, Gatse, Incredipede, Invisi, MAGIC, Phenom, Pilzsuppe, \"\r\n        + \"Schnitzelfee, Son of Thor, addicT*, chrisli, dochris.2, larry_ @ DUAS NIMMA HALTEN, red, |ScReaM|,  Cookie Jar\",\r\n\r\n    \"greek\":\r\n        \"Coccinella, Pandorian, SeCTeen, Sub-Zero, George\",\r\n\r\n    \"hungarian\":\r\n        \"DonRoland, Mohariczozo_HUN, Noarpe, Sirpi, [T-A!] Underyx x 6, atomcsikk, french_salad, nArrow, VaHooK, Haewen\",\r\n\r\n    \"italian\":\r\n        \"Copons, Drake Fazuku, Rasin, Star1s3, ktber, Andrea Brandi, GiorgioBrux, Manfre\",\r\n\r\n    \"japanese\":\r\n        \"aoisensi, k725, sumannnala, Aufallinger\",\r\n\r\n    \"koreana\":\r\n        \"CanNaJun, Daum, Hirano, LJreal, RaWouk, Rasin, [GF]meyoung, fivestar, sunk,  Cookie Jar, \",\r\n\r\n    \"latam\":\r\n        \"Dilubar\",\r\n\r\n    \"norwegian\":\r\n        \"KappaHD, Lazberg, Morten242, Stian,  ChocolateShuvuu\",\r\n\r\n    \"polish\":\r\n        \"AciD, Bednar, Laserman//^^, Lordomus, Parseus, Xylo, Yobilat, Yocki, devLewy, mahon, skubi07, \"\r\n        + \"przemo20, BeWu, Przemysaw Siekiera\",\r\n\r\n    \"portuguese\":\r\n        \"Dr. Costa, Ex0tic, Matias G. H., MrAltamente, Reckoner, Sim, SupSuper, TheScientist, The_Monk, \"\r\n        + \"TilenoL, mgiovani\",\r\n\r\n    \"romanian\":\r\n        \"Stormania\",\r\n\r\n    \"russian\":\r\n        \"Engkariensis, Kosheyaka, M@gi$te Y0d@, Mechanic, Memfys, MrFreemanBBQ, Robin, Sh1fter, ShawNexT, \"\r\n        + \"The Freak, TheMrKochan, delfin_00, dragonsigh, Asscrab, maximmax42, Ryzhehvost, Vlad\",\r\n\r\n    \"schinese\":\r\n        \"Aslike2, Deparsoul, FelinaeEbony, Gold, Iuy, M@nkey, Mr. Error, MyLittleWarhammer, Rabbitism Bomb, Rasin, \"\r\n        + \"[CN]Johnson, i7killpii, mjy, ssenkrad, yuccatoo, deluxghost, Catt Crdls, Aufallinger, JackyTsu\",\r\n\r\n    \"spanish\":\r\n        \"#SG# Sharkiller, 00HiZaM, Alien8, Digmin3, ItsMarukka, Kharn Nete, MXX [PA-D], Profesor Pistacho, Robotnick, \"\r\n        + \"Silence, \\\\Vince, giraam, kalprestito, kulapik, p0tat0, wasakakero, xGreg, Eugenio \\\"Ryo567\\\" Martnez Segun, \"\r\n        + \"Ral, Vikandus\",\r\n\r\n    \"swedish\":\r\n        \"Chainsawkitten, Death King, Deques, Lumppari, [MG] Rubiin,  0x3 \",\r\n\r\n    \"tchinese\":\r\n        \"Atraveller, JD OwO, Lex Song, MoDMeR, Mr. Error, NOKIA SE, Rasin, omylist, tonyli1357, Revelation, \"\r\n        + \"Catt Crdls, Gaz, candela97, omylist\",\r\n\r\n    \"thai\":\r\n        \"Epicenter, Likecyber, Magnative, Radius, Rasin, [LPG] 7-elephant, [D-M-C]\",\r\n\r\n    \"turkish\":\r\n        \"Beedle, Dijkstra[TR], Eray, Gevanni, Grievous, Neadiatre[Trade] #SOMA, Sound of Night, Su1ciDe, eayurdaer, \"\r\n        + \"tyyaman, veteran, EK YALANCI, Mslm Bar Korkmazer, Serdar Salam, Volkangezer\",\r\n\r\n    \"ukrainian\":\r\n        \"Anakin Skywalker, BlackSwan, Dorimi, Gentleneer, GreK, MoDMeR, NutsUA, Peacefool Peopel, Smith M.D., \"\r\n        + \"Stakan, [BA]zekainhuman, Ryzhehvost, Taras\",\r\n\r\n    \"vietnamese\":\r\n        \"Connorn3794, Khanh Nguyen\",\r\n};\r\n","import {HTML} from \"../../Core/Html/Html\";\r\nimport {Language} from \"../../Core/Localization/Language\";\r\nimport {Localization} from \"../../Core/Localization/Localization\";\r\nimport LocaleCredits from \"./Data/LocaleCredits\";\r\n\r\nclass LocaleCreditsBuilder {\r\n\r\n    constructor() {\r\n        this._total = this._deepCount(Localization.str);\r\n    }\r\n\r\n    _deepCount(obj) {\r\n        let cnt = 0;\r\n        for (const key of Object.keys(obj)) {\r\n            if (!Localization.str[key]) { // don't count \"made up\" translations\r\n                continue;\r\n            }\r\n            if (typeof obj[key] === \"object\") {\r\n                cnt += this._deepCount(obj[key]);\r\n            } else if (obj[key] !== \"\") {\r\n                cnt++;\r\n            }\r\n        }\r\n        return cnt;\r\n    }\r\n\r\n    async _computeCoverage(lang) {\r\n        if (lang === \"english\") { return 100; }\r\n        const code = Language.languages[lang];\r\n        const locale = await Localization.loadLocalization(code);\r\n        const count = this._deepCount(locale);\r\n        return 100 * count / this._total;\r\n    }\r\n\r\n    async build() {\r\n\r\n        let html = \"\";\r\n        for (const [lang, credits] of Object.entries(LocaleCredits)) {\r\n\r\n            const coverage = await this._computeCoverage(lang);\r\n\r\n            html += `\r\n                <div class=\"lang js-lang\">\r\n                    <h2 class=\"lang__name\">${Localization.str.options.lang[lang]}</h2>\r\n                    <div class=\"lang__perc js-lang-perc\">${coverage.toFixed(1)}%</div>\r\n                    <div class=\"lang__credits\">${credits}</div>\r\n                </div>`;\r\n        }\r\n\r\n        HTML.inner(document.querySelector(\".js-credits-locale\"), html);\r\n    }\r\n}\r\n\r\nexport {LocaleCreditsBuilder};\r\n","\r\nexport default {\r\n    // general\r\n    \"show_progressbar\": \"show_progressbar\",\r\n    \"version_show\": \"options.version_show\",\r\n    \"replaceaccountname\": \"options.replace_account_name\",\r\n    \"show_backtotop\": \"options.show_backtotop\",\r\n    \"disablelinkfilter\": \"options.disablelinkfilter\",\r\n    \"send_age_info\": \"options.send_age_info\",\r\n    \"openinnewtab\": \"options.openinnewtab\",\r\n    \"installsteam\": [\r\n        \"options.install_steam_button\",\r\n        [\r\n            [\"show\", \"show\"],\r\n            [\"hide\", \"hide\"],\r\n            [\"replace\", \"options.replace_view_client\"]\r\n        ]\r\n    ],\r\n\r\n    // context menu\r\n    \"context_steam_store\": \"options.context_steam_store\",\r\n    \"context_itad\": \"options.context_itad\",\r\n    \"context_bartervg\": \"options.context_bartervg\",\r\n    \"context_steamdb\": \"options.context_steamdb\",\r\n    \"context_steamdb_instant\": \"options.context_steamdb_instant\",\r\n    \"context_steam_keys\": \"options.context_steam_keys\",\r\n\r\n    // store\r\n    \"itad_import_library\": \"library_menu\",\r\n    \"itad_import_wishlist\": \"wishlist\",\r\n    \"add_to_waitlist\": \"options.add_to_waitlist\",\r\n\r\n    // highlight\r\n    \"highlight_owned\": \"options.owned\",\r\n    \"highlight_wishlist\": \"options.wishlist\",\r\n    \"highlight_coupon\": \"options.coupon\",\r\n    \"highlight_inv_gift\": \"options.gift\",\r\n    \"highlight_inv_guestpass\": \"options.guest\",\r\n    \"highlight_notinterested\": \"notinterested\",\r\n    \"highlight_collection\": \"options.collection\",\r\n    \"highlight_waitlist\": \"options.waitlist\",\r\n    \"highlight_excludef2p\": \"options.excludef2p\",\r\n\r\n    // tag\r\n    \"tag_owned\": \"options.owned\",\r\n    \"tag_wishlist\": \"options.wishlist\",\r\n    \"tag_coupon\": \"options.coupon\",\r\n    \"tag_inv_gift\": \"options.gift\",\r\n    \"tag_inv_guestpass\": \"options.guest\",\r\n    \"tag_notinterested\": \"notinterested\",\r\n    \"tag_collection\": \"options.collection\",\r\n    \"tag_waitlist\": \"options.waitlist\",\r\n    \"tag_short\": \"tag_short\",\r\n\r\n    // hide\r\n    \"hidetmsymbols\": \"options.hidetmsymbols\",\r\n\r\n    // store user notes\r\n    \"user_notes_app\": \"options.user_notes.app\",\r\n    \"user_notes_wishlist\": \"options.user_notes.wishlist\",\r\n    \"user_notes_adapter\": [\r\n        \"options.user_notes.loc\",\r\n        [\r\n            [\"synced_storage\", \"options.user_notes.synced_storage\"],\r\n            [\"idb\", \"options.user_notes.local\"],\r\n            // [\"itad\", \"options.user_notes.itad\"],\r\n        ],\r\n    ],\r\n\r\n    // store homepage\r\n    \"homepage_tab_selection\": [\r\n        \"options.homepage_default_tab\",\r\n        [\r\n            [\"remember\", \"options.homepage_default_tab_remember\"],\r\n            [\"tab_newreleases_content_trigger\", \"options.homepage_default_tab_newreleases\"],\r\n            [\"tab_topsellers_content_trigger\", \"options.homepage_default_tab_topsellers\"],\r\n            [\"tab_upcoming_content_trigger\", \"options.homepage_default_tab_upcoming\"],\r\n            [\"tab_specials_content_trigger\", \"options.homepage_default_tab_specials\"]\r\n        ]\r\n    ],\r\n\r\n    // store wishlist\r\n    \"showemptywishlist\": \"options.show_empty_wishlist\",\r\n    \"showwishliststats\": \"options.show_wishlist_stats\",\r\n\r\n    // store app page\r\n    \"mp4video\": \"options.mp4video\",\r\n    \"showsupportinfo\": \"options.supportinfo\",\r\n    \"showdrm\": \"options.drm\",\r\n    \"showviewinlibrary\": \"options.show_view_in_library\",\r\n    \"show_package_info\": \"options.show_package_info\",\r\n    \"showachinstore\": \"achievements.option\",\r\n    \"purchase_dates\": \"options.purchase_dates\",\r\n    \"show_badge_progress\": \"options.show_badge_progress\",\r\n    \"show_coupon\": \"options.show_coupon\",\r\n    \"removebroadcasts\": \"options.removebroadcasts\",\r\n    \"exfgls\": \"options.exfgls\",\r\n    \"showmcus\": \"options.metacritic\",\r\n    \"showoc\": \"options.opencritic\",\r\n    \"showhltb\": \"options.hltb\",\r\n    \"showitadlinks\": \"options.itadlinks\",\r\n    \"showsteamdb\": \"options.steamdb\",\r\n    \"showbartervg\": \"options.showbartervg\",\r\n    \"showastatslink\": \"options.show_astatslink\",\r\n    \"showyoutubegameplay\": \"options.show_youtubegameplay\",\r\n    \"showyoutubereviews\": \"options.show_youtubereviews\",\r\n    \"showyoutube\": \"options.youtube\",\r\n    \"showtwitch\": \"options.twitch\",\r\n    \"showpcgw\": \"options.pcgw\",\r\n    \"showcompletionistme\": \"options.completionistme\",\r\n    \"showprotondb\": \"options.protondb\",\r\n    \"showwsgf\": \"options.wsgf\",\r\n    \"showsteamcardexchange\": \"options.store_steamcards\",\r\n    \"show_steamchart_info\": \"options.show_steamchart_info\",\r\n    \"show_steamspy_info\": \"options.show_steamspy_info\",\r\n\r\n    // store general\r\n    \"horizontalscrolling\": \"options.horizontalscrolling\",\r\n    \"show_early_access\": \"options.show_early_access\",\r\n    \"show_alternative_linux_icon\": \"options.show_alternative_linux_icon\",\r\n    \"skip_got_steam\": \"options.skip_got_steam\",\r\n\r\n    // price\r\n    \"showlowestprice\": \"options.lowestprice\",\r\n    \"showlowestprice_onwishlist\": \"options.lowestprice_onwishlist\",\r\n    \"showlowestpricecoupon\": \"options.lowestprice_coupon\",\r\n    \"showallstores\": \"options.stores_all\",\r\n\r\n    // regional price\r\n    \"regional_hideworld\": \"options.regional_hideworld\",\r\n    \"showregionalprice\": [\r\n        \"options.regional_price_on\",\r\n        [\r\n            [\"mouse\", \"options.regional_price_mouse\"],\r\n            [\"always\", \"always\"],\r\n            [\"off\", \"never\"]\r\n        ]\r\n    ],\r\n\r\n    // market\r\n    \"showmarkettotal\": \"options.market_total\",\r\n    \"hideactivelistings\": \"options.hideactivelistings\",\r\n    \"showlowestmarketprice\": \"options.showlowestmarketprice\",\r\n\r\n    // community\r\n    \"quickinv\": \"options.quickinv\",\r\n    \"show1clickgoo\": \"options.show1clickgoo\",\r\n    \"showinvnav\": \"options.inventory_nav_text\",\r\n\r\n    // profile\r\n    \"show_wishlist_link\": \"options.show_wishlist_link\",\r\n    \"show_wishlist_count\": \"options.show_wishlist_count\",\r\n    \"showsteamrepapi\": \"options.steamrepapi\",\r\n    \"show_custom_themes\": \"options.show_custom_themes\",\r\n    \"profile_steamid\": \"options.profile_steamid\",\r\n    \"profile_showcase_twitch\": \"options.profile_showcase_twitch\",\r\n    \"profile_showcase_own_twitch\": \"options.profile_showcase_own_twitch\",\r\n    \"profile_showcase_twitch_profileonly\": \"options.profile_showcase_twitch_profileonly\",\r\n\r\n    // community general\r\n    \"show_profile_link_images\": [\r\n        \"options.profile_link_images\",\r\n        [\r\n            [\"gray\", \"options.profile_link_images_gray\"],\r\n            [\"color\", \"options.profile_link_images_color\"],\r\n            [\"none\", \"options.profile_link_images_none\"]\r\n        ]\r\n    ],\r\n    \"community_default_tab\": [\r\n        \"options.community_default_tab\",\r\n        [\r\n            [\"\", \"all\"],\r\n            [\"discussions\", \"discussions\"],\r\n            [\"screenshots\", \"options.screenshots\"],\r\n            [\"images\", \"options.artwork\"],\r\n            [\"broadcasts\", \"options.broadcasts\"],\r\n            [\"videos\", \"options.videos\"],\r\n            [\"workshop\", \"workshop.workshop\"],\r\n            [\"allnews\", \"news\"],\r\n            [\"guides\", \"guides\"],\r\n            [\"reviews\", \"reviews\"],\r\n        ]\r\n    ],\r\n    \"showallachievements\": \"options.showallachievements\",\r\n    \"showallstats\": \"options.showallstats\",\r\n    \"showcomparelinks\": \"options.showcomparelinks\",\r\n    \"hidespamcomments\": \"options.hidespamcomments\",\r\n    \"steamcardexchange\": \"options.steamcardexchange\",\r\n    \"wlbuttoncommunityapp\": \"options.wlbuttoncommunityapp\",\r\n    \"removeguideslanguagefilter\": \"options.removeguideslanguagefilter\",\r\n};\r\n","import {HTML} from \"../../Core/Html/Html\";\r\nimport {Localization} from \"../../Core/Localization/Localization\";\r\n\r\nclass OptionsTranslator {\r\n\r\n    static getTranslation(key) {\r\n        let translation = Localization.getString(key);\r\n        if (!translation) {\r\n            console.error(\"Missing translation for %s\", key);\r\n            return null;\r\n        }\r\n        if (key.startsWith(\"options.context_\")) {\r\n            translation = translation.replace(\"__query__\", \"...\");\r\n        }\r\n        return translation;\r\n    }\r\n\r\n    static _localizeText() {\r\n        const nodes = document.querySelectorAll(\"[data-locale-text]\");\r\n        for (const node of nodes) {\r\n            const translation = this.getTranslation(node.dataset.localeText);\r\n            if (translation) {\r\n                node.textContent = translation;\r\n            }\r\n        }\r\n    }\r\n\r\n    static _localizeHtml() {\r\n        const nodes = document.querySelectorAll(\"[data-locale-html]\");\r\n        for (const node of nodes) {\r\n            const translation = this.getTranslation(node.dataset.localeHtml);\r\n            if (translation) {\r\n                HTML.inner(node, translation);\r\n            }\r\n        }\r\n    }\r\n\r\n    static _localizeLanguageOptions() {\r\n        const nodes = document.querySelectorAll(\"#warning_language option\");\r\n        for (const node of nodes) {\r\n            const lang = node.textContent;\r\n            const langTrl = Localization.str.options.lang[node.value.toLowerCase()];\r\n            if (lang !== langTrl) {\r\n                node.textContent = `${lang} (${langTrl})`;\r\n            }\r\n        }\r\n    }\r\n\r\n    static translate() {\r\n\r\n        document.title = `Augmented Steam ${Localization.str.thewordoptions}`;\r\n        this._localizeText();\r\n        this._localizeHtml();\r\n        this._localizeLanguageOptions();\r\n\r\n        // this is not very clean, but I can't figure out better solution right now, having it in-place would be nicer\r\n        const url = \"https://github.com/tfedor/AugmentedSteam/graphs/contributors\";\r\n        HTML.inner(\r\n            document.querySelector(\".js-contributors-text\"),\r\n            Localization.getString(\"options.with_help_of\")\r\n                .replace(\r\n                    \"__contributors__\",\r\n                    `<a href='${url}'>${Localization.getString(\"options.contributors\")}</a>`\r\n                )\r\n        );\r\n    }\r\n}\r\n\r\nexport {OptionsTranslator};\r\n","export const CountryList = {\r\n    \"\": \"None\",\r\n    \"af\": \"Afghanistan\",\r\n    \"al\": \"Albania\",\r\n    \"dz\": \"Algeria\",\r\n    \"as\": \"American Samoa\",\r\n    \"ad\": \"Andorra\",\r\n    \"ao\": \"Angola\",\r\n    \"ai\": \"Anguilla\",\r\n    \"ag\": \"Antigua and Barbuda\",\r\n    \"ar\": \"Argentina\",\r\n    \"am\": \"Armenia\",\r\n    \"aw\": \"Aruba\",\r\n    \"au\": \"Australia\",\r\n    \"at\": \"Austria\",\r\n    \"az\": \"Azerbaijan\",\r\n    \"bs\": \"Bahamas\",\r\n    \"bh\": \"Bahrain\",\r\n    \"bd\": \"Bangladesh\",\r\n    \"bb\": \"Barbados\",\r\n    \"by\": \"Belarus\",\r\n    \"be\": \"Belgium\",\r\n    \"bz\": \"Belize\",\r\n    \"bj\": \"Benin\",\r\n    \"bm\": \"Bermuda\",\r\n    \"bt\": \"Bhutan\",\r\n    \"bo\": \"Bolivia\",\r\n    \"ba\": \"Bosnia and Herzegovina\",\r\n    \"bw\": \"Botswana\",\r\n    \"bv\": \"Bouvet Island\",\r\n    \"br\": \"Brazil\",\r\n    \"io\": \"British Indian Ocean Territory\",\r\n    \"vg\": \"British Virgin Islands\",\r\n    \"bn\": \"Brunei\",\r\n    \"bg\": \"Bulgaria\",\r\n    \"bf\": \"Burkina Faso\",\r\n    \"bi\": \"Burundi\",\r\n    \"kh\": \"Cambodia\",\r\n    \"cm\": \"Cameroon\",\r\n    \"ca\": \"Canada\",\r\n    \"cv\": \"Cape Verde\",\r\n    \"ky\": \"Cayman Islands\",\r\n    \"cf\": \"Central African Republic\",\r\n    \"td\": \"Chad\",\r\n    \"cl\": \"Chile\",\r\n    \"cn\": \"China\",\r\n    \"co\": \"Colombia\",\r\n    \"km\": \"Comoros\",\r\n    \"cg\": \"Congo - Brazzaville\",\r\n    \"cd\": \"Congo - Kinshasa\",\r\n    \"ck\": \"Cook Islands\",\r\n    \"cr\": \"Costa Rica\",\r\n    \"hr\": \"Croatia\",\r\n    \"cu\": \"Cuba\",\r\n    \"cy\": \"Cyprus\",\r\n    \"cz\": \"Czech Republic\",\r\n    \"ci\": \"Cte dIvoire\",\r\n    \"dk\": \"Denmark\",\r\n    \"dj\": \"Djibouti\",\r\n    \"dm\": \"Dominica\",\r\n    \"do\": \"Dominican Republic\",\r\n    \"ec\": \"Ecuador\",\r\n    \"eg\": \"Egypt\",\r\n    \"sv\": \"El Salvador\",\r\n    \"gq\": \"Equatorial Guinea\",\r\n    \"er\": \"Eritrea\",\r\n    \"ee\": \"Estonia\",\r\n    \"et\": \"Ethiopia\",\r\n    \"fk\": \"Falkland Islands\",\r\n    \"fo\": \"Faroe Islands\",\r\n    \"fj\": \"Fiji\",\r\n    \"fi\": \"Finland\",\r\n    \"fr\": \"France\",\r\n    \"gf\": \"French Guiana\",\r\n    \"pf\": \"French Polynesia\",\r\n    \"tf\": \"French Southern Territories\",\r\n    \"ga\": \"Gabon\",\r\n    \"gm\": \"Gambia\",\r\n    \"ge\": \"Georgia\",\r\n    \"de\": \"Germany\",\r\n    \"gh\": \"Ghana\",\r\n    \"gi\": \"Gibraltar\",\r\n    \"gr\": \"Greece\",\r\n    \"gl\": \"Greenland\",\r\n    \"gd\": \"Grenada\",\r\n    \"gp\": \"Guadeloupe\",\r\n    \"gu\": \"Guam\",\r\n    \"gt\": \"Guatemala\",\r\n    \"gg\": \"Guernsey\",\r\n    \"gn\": \"Guinea\",\r\n    \"gw\": \"Guinea-Bissau\",\r\n    \"gy\": \"Guyana\",\r\n    \"ht\": \"Haiti\",\r\n    \"hm\": \"Heard Island and McDonald Islands\",\r\n    \"hn\": \"Honduras\",\r\n    \"hk\": \"Hong Kong SAR China\",\r\n    \"hu\": \"Hungary\",\r\n    \"is\": \"Iceland\",\r\n    \"in\": \"India\",\r\n    \"id\": \"Indonesia\",\r\n    \"ir\": \"Iran\",\r\n    \"iq\": \"Iraq\",\r\n    \"ie\": \"Ireland\",\r\n    \"im\": \"Isle of Man\",\r\n    \"il\": \"Israel\",\r\n    \"it\": \"Italy\",\r\n    \"jm\": \"Jamaica\",\r\n    \"jp\": \"Japan\",\r\n    \"je\": \"Jersey\",\r\n    \"jo\": \"Jordan\",\r\n    \"kz\": \"Kazakhstan\",\r\n    \"ke\": \"Kenya\",\r\n    \"ki\": \"Kiribati\",\r\n    \"kw\": \"Kuwait\",\r\n    \"kg\": \"Kyrgyzstan\",\r\n    \"la\": \"Laos\",\r\n    \"lv\": \"Latvia\",\r\n    \"lb\": \"Lebanon\",\r\n    \"ls\": \"Lesotho\",\r\n    \"lr\": \"Liberia\",\r\n    \"ly\": \"Libya\",\r\n    \"li\": \"Liechtenstein\",\r\n    \"lt\": \"Lithuania\",\r\n    \"lu\": \"Luxembourg\",\r\n    \"mo\": \"Macau SAR China\",\r\n    \"mk\": \"Macedonia\",\r\n    \"mg\": \"Madagascar\",\r\n    \"mw\": \"Malawi\",\r\n    \"my\": \"Malaysia\",\r\n    \"mv\": \"Maldives\",\r\n    \"ml\": \"Mali\",\r\n    \"mt\": \"Malta\",\r\n    \"mh\": \"Marshall Islands\",\r\n    \"mq\": \"Martinique\",\r\n    \"mr\": \"Mauritania\",\r\n    \"mu\": \"Mauritius\",\r\n    \"yt\": \"Mayotte\",\r\n    \"mx\": \"Mexico\",\r\n    \"fm\": \"Micronesia\",\r\n    \"md\": \"Moldova\",\r\n    \"mc\": \"Monaco\",\r\n    \"mn\": \"Mongolia\",\r\n    \"ME\": \"Montenegro\",\r\n    \"MS\": \"Montserrat\",\r\n    \"MA\": \"Morocco\",\r\n    \"MZ\": \"Mozambique\",\r\n    \"MM\": \"Myanmar [Burma]\",\r\n    \"NA\": \"Namibia\",\r\n    \"NR\": \"Nauru\",\r\n    \"NP\": \"Nepal\",\r\n    \"NL\": \"Netherlands\",\r\n    \"AN\": \"Netherlands Antilles\",\r\n    \"NC\": \"New Caledonia\",\r\n    \"NZ\": \"New Zealand\",\r\n    \"NI\": \"Nicaragua\",\r\n    \"NE\": \"Niger\",\r\n    \"NG\": \"Nigeria\",\r\n    \"NU\": \"Niue\",\r\n    \"NF\": \"Norfolk Island\",\r\n    \"KP\": \"North Korea\",\r\n    \"MP\": \"Northern Mariana Islands\",\r\n    \"NO\": \"Norway\",\r\n    \"OM\": \"Oman\",\r\n    \"PK\": \"Pakistan\",\r\n    \"PW\": \"Palau\",\r\n    \"PS\": \"Palestinian Territories\",\r\n    \"PA\": \"Panama\",\r\n    \"PG\": \"Papua New Guinea\",\r\n    \"PY\": \"Paraguay\",\r\n    \"PE\": \"Peru\",\r\n    \"PH\": \"Philippines\",\r\n    \"PN\": \"Pitcairn Islands\",\r\n    \"PL\": \"Poland\",\r\n    \"PT\": \"Portugal\",\r\n    \"PR\": \"Puerto Rico\",\r\n    \"QA\": \"Qatar\",\r\n    \"RO\": \"Romania\",\r\n    \"RU\": \"Russia\",\r\n    \"RW\": \"Rwanda\",\r\n    \"RE\": \"Runion\",\r\n    \"SH\": \"Saint Helena\",\r\n    \"KN\": \"Saint Kitts and Nevis\",\r\n    \"LC\": \"Saint Lucia\",\r\n    \"PM\": \"Saint Pierre and Miquelon\",\r\n    \"VC\": \"Saint Vincent and the Grenadines\",\r\n    \"WS\": \"Samoa\",\r\n    \"SM\": \"San Marino\",\r\n    \"SA\": \"Saudi Arabia\",\r\n    \"SN\": \"Senegal\",\r\n    \"RS\": \"Serbia\",\r\n    \"SC\": \"Seychelles\",\r\n    \"SL\": \"Sierra Leone\",\r\n    \"SG\": \"Singapore\",\r\n    \"SK\": \"Slovakia\",\r\n    \"SI\": \"Slovenia\",\r\n    \"SB\": \"Solomon Islands\",\r\n    \"SO\": \"Somalia\",\r\n    \"ZA\": \"South Africa\",\r\n    \"GS\": \"South Georgia\",\r\n    \"KR\": \"South Korea\",\r\n    \"ES\": \"Spain\",\r\n    \"LK\": \"Sri Lanka\",\r\n    \"SD\": \"Sudan\",\r\n    \"SR\": \"Suriname\",\r\n    \"SZ\": \"Swaziland\",\r\n    \"SE\": \"Sweden\",\r\n    \"CH\": \"Switzerland\",\r\n    \"SY\": \"Syria\",\r\n    \"ST\": \"So Tom and Prncipe\",\r\n    \"TW\": \"Taiwan\",\r\n    \"TJ\": \"Tajikistan\",\r\n    \"TZ\": \"Tanzania\",\r\n    \"TH\": \"Thailand\",\r\n    \"TL\": \"Timor-Leste\",\r\n    \"TG\": \"Togo\",\r\n    \"TK\": \"Tokelau\",\r\n    \"TO\": \"Tonga\",\r\n    \"TT\": \"Trinidad and Tobago\",\r\n    \"TN\": \"Tunisia\",\r\n    \"TR\": \"Turkey\",\r\n    \"TM\": \"Turkmenistan\",\r\n    \"TC\": \"Turks and Caicos Islands\",\r\n    \"TV\": \"Tuvalu\",\r\n    \"UM\": \"U.S. Minor Outlying Islands\",\r\n    \"VI\": \"U.S. Virgin Islands\",\r\n    \"UG\": \"Uganda\",\r\n    \"UA\": \"Ukraine\",\r\n    \"AE\": \"United Arab Emirates\",\r\n    \"GB\": \"United Kingdom\",\r\n    \"US\": \"United States\",\r\n    \"UY\": \"Uruguay\",\r\n    \"UZ\": \"Uzbekistan\",\r\n    \"VU\": \"Vanuatu\",\r\n    \"VA\": \"Vatican City\",\r\n    \"VE\": \"Venezuela\",\r\n    \"VN\": \"Vietnam\",\r\n    \"WF\": \"Wallis and Futuna\",\r\n    \"EH\": \"Western Sahara\",\r\n    \"YE\": \"Yemen\",\r\n    \"ZM\": \"Zambia\",\r\n    \"ZW\": \"Zimbabwe\"\r\n};\r\n","import {HTML} from \"../../Core/Html/Html\";\r\nimport {SyncedStorage} from \"../../Core/Storage/SyncedStorage\";\r\nimport {CountryList} from \"./Data/CountryList\";\r\nimport {SaveIndicator} from \"./SaveIndicator\";\r\n\r\nclass Region {\r\n\r\n    static init() {\r\n        this._container = document.querySelector(\".js-regions\");\r\n\r\n        this._container\r\n            .addEventListener(\"click\", e => { Region._removeHandler(e); });\r\n\r\n        this._container.addEventListener(\"change\", e => {\r\n            const node = e.target.closest(\".js-region-parent\");\r\n            if (node) {\r\n                Region._changeFlag(node.querySelector(\".es-flag\"), e.target);\r\n            }\r\n            this._save();\r\n        });\r\n\r\n        document.querySelector(\".js-region-add\")\r\n            .addEventListener(\"click\", () => {\r\n                Region._addRegionHtml(\"\");\r\n            });\r\n\r\n        document.querySelector(\".js-region-reset\")\r\n            .addEventListener(\"click\", () => {\r\n                Region.loadDefault();\r\n                Region._save();\r\n            });\r\n\r\n        document.querySelector(\".js-region-clear\")\r\n            .addEventListener(\"click\", () => {\r\n                Region._clear();\r\n                Region._save();\r\n            });\r\n    }\r\n\r\n    static loadDefault() {\r\n        this._clear();\r\n        SyncedStorage.remove(\"regional_countries\");\r\n        this.populate();\r\n    }\r\n\r\n    static _changeFlag(node, selectnode) {\r\n        node.className = \"\";\r\n        node.classList.add(`es-flag--${selectnode.value}`, \"es-flag\");\r\n    }\r\n\r\n    static _removeHandler(e) {\r\n        if (!e.target || !e.target.classList || !e.target.classList.contains(\"js-region-remove\")) { return; }\r\n        e.target.closest(\".js-region-parent\").remove();\r\n        this._save();\r\n    }\r\n\r\n    static _save() {\r\n        const value = [];\r\n        const nodes = document.querySelectorAll(\".js-region\");\r\n        for (const node of nodes) {\r\n            if (node.value && node.value !== \"\") {\r\n                value.push(node.value);\r\n            }\r\n        }\r\n\r\n        SyncedStorage.set(\"regional_countries\", value);\r\n        SaveIndicator.saved();\r\n    }\r\n\r\n    static _clear() {\r\n        HTML.inner(this._container, \"\");\r\n    }\r\n\r\n    static _addRegionHtml(country) {\r\n        let options = \"\";\r\n        for (const cc in CountryList) {\r\n            const selected = (cc.toLowerCase() === country ? \" selected='selected'\" : \"\");\r\n            options += `<option value='${cc.toLowerCase()}'${selected}>${CountryList[cc]}</option>`;\r\n        }\r\n\r\n        let countryClass = \"\";\r\n        if (country) {\r\n            countryClass = `es-flag--${country}`;\r\n        }\r\n\r\n        const html\r\n            = ` <div class=\"option js-region-parent\">\r\n                    <span class='es-flag ${countryClass}'></span>\r\n                    <select class='option__region js-region'>${options}</select>\r\n                    <button type=\"button\" class=\"custom-link__close js-region-remove\"></button>\r\n                </div>`;\r\n\r\n        HTML.beforeEnd(this._container, html);\r\n    }\r\n\r\n    static populate() {\r\n        this._clear();\r\n        const countries = SyncedStorage.get(\"regional_countries\");\r\n        for (const country of countries) {\r\n            this._addRegionHtml(country);\r\n        }\r\n    }\r\n}\r\n\r\nexport {Region};\r\n","import {HTML} from \"../../Core/Html/Html\";\r\nimport {Localization} from \"../../Core/Localization/Localization\";\r\nimport {TimeUtils} from \"../../modulesCore\";\r\n\r\nclass Sidebar {\r\n\r\n    static _scrollTo(node) {\r\n        if (!node) { return; }\r\n        const topOffset = window.scrollY + node.getBoundingClientRect().top - 50;\r\n        window.scrollTo({\"top\": topOffset, \"left\": 0, \"behavior\": \"smooth\"});\r\n    }\r\n\r\n    static _highlight(contentNode, sidebarNode) {\r\n        const currentSelected = document.querySelector(\".js-sb-sec.is-selected\");\r\n\r\n        if (currentSelected === sidebarNode) {\r\n            return;\r\n        } else if (currentSelected) {\r\n            currentSelected.classList.remove(\"is-selected\");\r\n        }\r\n\r\n        sidebarNode.classList.add(\"is-selected\");\r\n\r\n        const currentHighlight = document.querySelector(\".js-section.is-highlighted\");\r\n        if (currentHighlight) {\r\n            currentHighlight.classList.remove(\"is-highlighted\");\r\n        }\r\n        contentNode.classList.add(\"is-highlighted\");\r\n    }\r\n\r\n    static _handleClick(e) {\r\n        Sidebar._handleCategoryClick(e);\r\n        Sidebar._handleSectionClick(e);\r\n    }\r\n\r\n    static _handleCategoryClick(e) {\r\n        const category = e.target.closest(\".js-sb-cat\");\r\n        if (category === null) {\r\n            return;\r\n        }\r\n\r\n        const contentId = category.dataset.id;\r\n        const newPage = document.querySelector(`.js-content[data-id='${contentId}']`).closest(\".js-page\");\r\n        const currentPage = document.querySelector(\".js-page.is-open\");\r\n\r\n        const group = category.closest(\".js-sb-grp\");\r\n        const hasSections = group.querySelector(\".js-sb-sections\");\r\n\r\n        if (newPage !== currentPage) {\r\n            currentPage.classList.remove(\"is-open\");\r\n            newPage.classList.add(\"is-open\");\r\n\r\n            const nodes = document.querySelectorAll(\".js-sb-grp.is-selected\");\r\n            for (const node of nodes) {\r\n                node.classList.remove(\"is-selected\");\r\n            }\r\n\r\n            // scroll only when changing content\r\n            if (hasSections) {\r\n                Sidebar._scrollTo(newPage);\r\n            } else {\r\n                window.scrollTo(0, 0);\r\n            }\r\n        }\r\n\r\n        group.classList.toggle(\"is-selected\");\r\n    }\r\n\r\n    static _handleSectionClick(e) {\r\n\r\n        const section = e.target.closest(\".js-sb-sec\");\r\n        if (!section) { return; }\r\n\r\n        const row = section.closest(\".js-sb-grp\");\r\n        if (!row) { return; }\r\n\r\n        for (const [contentNode, sidebarNode] of Sidebar._contentNodes) {\r\n            if (sidebarNode === section) {\r\n                Sidebar._scrollTo(contentNode);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    static _scrollHandler() {\r\n\r\n        if (!this._timer) {\r\n            this._timer = TimeUtils.resettableTimer(() => {\r\n                for (const [contentNode, sidebarNode] of Sidebar._contentNodes) {\r\n                    const rect = contentNode.getBoundingClientRect();\r\n\r\n                    if ((rect.top < 0 && rect.bottom > window.innerHeight) || rect.top > 0) {\r\n                        Sidebar._highlight(contentNode, sidebarNode);\r\n                        return;\r\n                    }\r\n                }\r\n            }, 100);\r\n        } else if (!this._timer.running) {\r\n            this._timer.reset();\r\n        }\r\n    }\r\n\r\n    static create() {\r\n\r\n        Sidebar._contentNodes = [];\r\n\r\n        const categories = [\r\n            [\"general\", \"options.general\"],\r\n            [\"store\", \"store\"],\r\n            [\"price\", \"price\"],\r\n            [\"community\", \"community\"],\r\n            [\"news\", \"news\"],\r\n            [\"about\", \"about\"],\r\n        ];\r\n\r\n        const sidebarEl = document.querySelector(\".js-sb\");\r\n\r\n        for (const [contentId, localeKey] of categories) {\r\n            const contentEl = document.querySelector(`.js-content[data-id='${contentId}']`);\r\n\r\n            let multiClass = \"\";\r\n            let sectionsNode = null;\r\n\r\n            if (contentEl) {\r\n\r\n                const sections = contentEl.querySelectorAll(\".js-section\");\r\n                if (sections.length > 0) {\r\n                    sectionsNode = document.createElement(\"ul\");\r\n                    sectionsNode.classList.add(\"sidebar__children\", \"js-sb-sections\");\r\n\r\n                    multiClass = \" sidebar__item--multi\";\r\n                    sections.forEach(section => {\r\n                        const sectionMenu = document.createElement(\"li\");\r\n                        sectionMenu.classList.add(\"sidebar__item\", \"sidebar__item--child\", \"js-sb-sec\");\r\n                        sectionMenu.innerText = section.querySelector(\".js-section-head\").textContent;\r\n\r\n                        sectionsNode.append(sectionMenu);\r\n                        Sidebar._contentNodes.push([section, sectionMenu]);\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                console.warn(\"Content for sidebar entry not found\");\r\n            }\r\n\r\n            const groupNode = HTML.element(\r\n                `<div class=\"sidebar__group js-sb-grp\">\r\n                    <a class=\"sidebar__item sidebar__item--cat${multiClass} js-sb-cat\" data-id=\"${contentId}\">\r\n                        ${Localization.getString(localeKey)}\r\n                    </a>\r\n                </div>`\r\n            );\r\n\r\n            if (sectionsNode) {\r\n                groupNode.append(sectionsNode);\r\n            }\r\n\r\n            sidebarEl.append(groupNode);\r\n        }\r\n\r\n        sidebarEl.addEventListener(\"click\", Sidebar._handleClick);\r\n        document.addEventListener(\"scroll\", Sidebar._scrollHandler);\r\n        Sidebar._scrollHandler();\r\n    }\r\n\r\n}\r\n\r\nexport {Sidebar};\r\n","export const StoreList = [\r\n    {\r\n        \"id\": \"game2\",\r\n        \"title\": \"2game\",\r\n        \"color\": \"#523f95\"\r\n    },\r\n    {\r\n        \"id\": \"allyouplay\",\r\n        \"title\": \"AllYouPlay\",\r\n        \"color\": \"#e9267b\"\r\n    },\r\n    {\r\n        \"id\": \"amazonus\",\r\n        \"title\": \"Amazon\",\r\n        \"color\": \"#fcc588\"\r\n    },\r\n    {\r\n        \"id\": \"bistore\",\r\n        \"title\": \"BI Store\",\r\n        \"color\": \"#f74040\"\r\n    },\r\n    {\r\n        \"id\": \"battlenet\",\r\n        \"title\": \"Blizzard\",\r\n        \"color\": \"#00cbe6\"\r\n    },\r\n    {\r\n        \"id\": \"chrono\",\r\n        \"title\": \"Chrono.gg\",\r\n        \"color\": \"#59c4c5\"\r\n    },\r\n    {\r\n        \"id\": \"dlgamer\",\r\n        \"title\": \"DLGamer\",\r\n        \"color\": \"#f5fe94\"\r\n    },\r\n    {\r\n        \"id\": \"direct2drive\",\r\n        \"title\": \"Direct2Drive\",\r\n        \"color\": \"#1df884\"\r\n    },\r\n    {\r\n        \"id\": \"discord\",\r\n        \"title\": \"Discord Store\",\r\n        \"color\": \"#6f85d4\"\r\n    },\r\n    {\r\n        \"id\": \"dreamgame\",\r\n        \"title\": \"Dreamgame\",\r\n        \"color\": \"#497791\"\r\n    },\r\n    {\r\n        \"id\": \"epic\",\r\n        \"title\": \"Epic Game Store\",\r\n        \"color\": \"#0078f2\"\r\n    },\r\n    {\r\n        \"id\": \"bundlestars\",\r\n        \"title\": \"Fanatical\",\r\n        \"color\": \"#ff9800\"\r\n    },\r\n    {\r\n        \"id\": \"fireflower\",\r\n        \"title\": \"FireFlower\",\r\n        \"color\": \"#29698c\"\r\n    },\r\n    {\r\n        \"id\": \"gog\",\r\n        \"title\": \"GOG\",\r\n        \"color\": \"#f16421\"\r\n    },\r\n    {\r\n        \"id\": \"gamejolt\",\r\n        \"title\": \"Game Jolt\",\r\n        \"color\": \"#2f7f6f\"\r\n    },\r\n    {\r\n        \"id\": \"gamebillet\",\r\n        \"title\": \"GameBillet\",\r\n        \"color\": \"#f22f15\"\r\n    },\r\n    {\r\n        \"id\": \"impulse\",\r\n        \"title\": \"GameStop PC\",\r\n        \"color\": \"#c63f62\"\r\n    },\r\n    {\r\n        \"id\": \"gamersgate\",\r\n        \"title\": \"GamersGate\",\r\n        \"color\": \"#fc5d5d\"\r\n    },\r\n    {\r\n        \"id\": \"gamesplanetde\",\r\n        \"title\": \"GamesPlanet DE\",\r\n        \"color\": \"#f6a740\"\r\n    },\r\n    {\r\n        \"id\": \"gamesplanetfr\",\r\n        \"title\": \"GamesPlanet FR\",\r\n        \"color\": \"#f6a740\"\r\n    },\r\n    {\r\n        \"id\": \"gamesplanet\",\r\n        \"title\": \"GamesPlanet UK\",\r\n        \"color\": \"#f6a740\"\r\n    },\r\n    {\r\n        \"id\": \"gamesplanetus\",\r\n        \"title\": \"GamesPlanet US\",\r\n        \"color\": \"#f6a740\"\r\n    },\r\n    {\r\n        \"id\": \"gamesrepublic\",\r\n        \"title\": \"GamesRepublic\",\r\n        \"color\": \"#ef0e38\"\r\n    },\r\n    {\r\n        \"id\": \"gemly\",\r\n        \"title\": \"Gemly\",\r\n        \"color\": \"#ce2745\"\r\n    },\r\n    {\r\n        \"id\": \"greenmangaming\",\r\n        \"title\": \"GreenManGaming\",\r\n        \"color\": \"#21a930\"\r\n    },\r\n    {\r\n        \"id\": \"humblestore\",\r\n        \"title\": \"Humble Store\",\r\n        \"color\": \"#ff3e1b\"\r\n    },\r\n    {\r\n        \"id\": \"humblewidgets\",\r\n        \"title\": \"Humble Widgets\",\r\n        \"color\": \"#f8300c\"\r\n    },\r\n    {\r\n        \"id\": \"indiegalastore\",\r\n        \"title\": \"IndieGala Store\",\r\n        \"color\": \"#ffb4e0\"\r\n    },\r\n    {\r\n        \"id\": \"itchio\",\r\n        \"title\": \"Itch.io\",\r\n        \"color\": \"#fa5c5c\"\r\n    },\r\n    {\r\n        \"id\": \"lbostore\",\r\n        \"title\": \"LBOstore\",\r\n        \"color\": \"#005268\"\r\n    },\r\n    {\r\n        \"id\": \"macgamestore\",\r\n        \"title\": \"MacGameStore\",\r\n        \"color\": \"#0a5092\"\r\n    },\r\n    {\r\n        \"id\": \"microsoft\",\r\n        \"title\": \"Microsoft Store\",\r\n        \"color\": \"#ffd800\"\r\n    },\r\n    {\r\n        \"id\": \"newegg\",\r\n        \"title\": \"Newegg\",\r\n        \"color\": \"#f79328\"\r\n    },\r\n    {\r\n        \"id\": \"nuuvem\",\r\n        \"title\": \"Nuuvem\",\r\n        \"color\": \"#b5e0f4\"\r\n    },\r\n    {\r\n        \"id\": \"oculus\",\r\n        \"title\": \"Oculus Store\",\r\n        \"color\": \"#5161a6\"\r\n    },\r\n    {\r\n        \"id\": \"origin\",\r\n        \"title\": \"Origin\",\r\n        \"color\": \"#ddff1c\"\r\n    },\r\n    {\r\n        \"id\": \"playism\",\r\n        \"title\": \"Playism\",\r\n        \"color\": \"#b8934f\"\r\n    },\r\n    {\r\n        \"id\": \"razer\",\r\n        \"title\": \"Razer Game Store\",\r\n        \"color\": \"#00ff00\"\r\n    },\r\n    {\r\n        \"id\": \"savemi\",\r\n        \"title\": \"Savemi\",\r\n        \"color\": \"#01add3\"\r\n    },\r\n    {\r\n        \"id\": \"silagames\",\r\n        \"title\": \"SilaGames\",\r\n        \"color\": \"#f9cf6b\"\r\n    },\r\n    {\r\n        \"id\": \"squenix\",\r\n        \"title\": \"Square Enix\",\r\n        \"color\": \"#b41919\"\r\n    },\r\n    {\r\n        \"id\": \"steam\",\r\n        \"title\": \"Steam\",\r\n        \"color\": \"#9ffc3a\"\r\n    },\r\n    {\r\n        \"id\": \"uplay\",\r\n        \"title\": \"Uplay\",\r\n        \"color\": \"#01657a\"\r\n    },\r\n    {\r\n        \"id\": \"voidu\",\r\n        \"title\": \"Voidu\",\r\n        \"color\": \"#f47820\"\r\n    },\r\n    {\r\n        \"id\": \"wingamestore\",\r\n        \"title\": \"WinGameStore\",\r\n        \"color\": \"#0a5092\"\r\n    }\r\n];\r\n","import {Localization} from \"../../Core/Localization/Localization\";\r\nimport {SyncedStorage} from \"../../Core/Storage/SyncedStorage\";\r\nimport {Permissions} from \"../../modulesCore\";\r\n\r\nclass ContextMenu {\r\n\r\n    static onClick(info) {\r\n        const query = encodeURIComponent(info.selectionText.trim());\r\n        const url = ContextMenu.queryLinks[info.menuItemId];\r\n        if (!url) { return; }\r\n\r\n        if (info.menuItemId === \"context_steam_keys\") {\r\n            const steamKeys = query.match(/[A-Z0-9]{5}(-[A-Z0-9]{5}){2}/g);\r\n            if (!steamKeys || steamKeys.length === 0) {\r\n\r\n                // eslint-disable-next-line no-alert -- TODO Find a better way\r\n                window.alert(Localization.str.options.no_keys_found);\r\n                return;\r\n            }\r\n\r\n            for (const steamKey of steamKeys) {\r\n                browser.tabs.create({\"url\": url.replace(\"__steamkey__\", steamKey)});\r\n            }\r\n        } else {\r\n            browser.tabs.create({\"url\": url.replace(\"__query__\", query)});\r\n        }\r\n    }\r\n\r\n    static async build() {\r\n        await Localization;\r\n        await SyncedStorage;\r\n\r\n        for (const option of Object.keys(ContextMenu.queryLinks)) {\r\n            if (!SyncedStorage.get(option)) { continue; }\r\n\r\n            browser.contextMenus.create({\r\n                \"id\": option,\r\n                \"title\": Localization.str.options[option].replace(\"__query__\", \"%s\"),\r\n                \"contexts\": [\"selection\"]\r\n            },\r\n\r\n            /*\r\n             * TODO don't recreate the context menu entries on each change, only update\r\n             * the affected entry (which should also prevent this error)\r\n             * Error when you create an entry with duplicate id\r\n             */\r\n            () => chrome.runtime.lastError);\r\n        }\r\n    }\r\n\r\n    static async update() {\r\n        if (!await Permissions.contains([\"contextMenus\"])) { return null; }\r\n\r\n        await browser.contextMenus.removeAll();\r\n        return ContextMenu.build();\r\n    }\r\n}\r\n\r\nContextMenu.queryLinks = {\r\n    \"context_steam_store\": \"https://store.steampowered.com/search/?term=__query__\",\r\n    \"context_steam_market\": \"https://steamcommunity.com/market/search?q=__query__\",\r\n    \"context_itad\": \"https://isthereanydeal.com/search/?q=__query__\",\r\n    \"context_bartervg\": \"https://barter.vg/search?q=__query__\",\r\n    \"context_steamdb\": \"https://steamdb.info/search/?q=__query__\",\r\n    \"context_steamdb_instant\": \"https://steamdb.info/instantsearch/?query=__query__\",\r\n    \"context_steam_keys\": \"https://store.steampowered.com/account/registerkey?key=__steamkey__\"\r\n};\r\n\r\nexport {ContextMenu};\r\n","import {SyncedStorage} from \"../../modulesCore\";\r\nimport {BackgroundSimple} from \"../BackgroundSimple\";\r\n\r\nclass UserNotesAdapter {\r\n\r\n    static getAdapter() {\r\n\r\n        if (typeof UserNotesAdapter._adapter === \"undefined\") {\r\n\r\n            let Adapter = UserNotesAdapter.adapters[SyncedStorage.get(\"user_notes_adapter\")];\r\n\r\n            if (typeof Adapter === \"undefined\") {\r\n                SyncedStorage.remove(\"user_notes_adapter\");\r\n                Adapter = UserNotesAdapter.adapters[SyncedStorage.defaults.user_notes_adapter];\r\n            }\r\n\r\n            UserNotesAdapter._adapter = new Adapter();\r\n        }\r\n\r\n        return UserNotesAdapter._adapter;\r\n    }\r\n\r\n    static async changeAdapter(toType) {\r\n\r\n        const currentAdapter = UserNotesAdapter.getAdapter();\r\n        const newAdapter = new UserNotesAdapter.adapters[toType]();\r\n\r\n        await newAdapter.import(await currentAdapter.export());\r\n        await currentAdapter.clear();\r\n\r\n        UserNotesAdapter._adapter = newAdapter;\r\n        return UserNotesAdapter._adapter;\r\n    }\r\n}\r\n\r\nclass OutOfCapacityError extends Error {\r\n    constructor(ratio, ...params) {\r\n        super(...params);\r\n\r\n        this.name = this.constructor.name;\r\n\r\n        this.ratio = ratio;\r\n    }\r\n}\r\n\r\nclass CapacityInfo {\r\n    constructor(closeToFull = false, utilization = null) {\r\n        this.closeToFull = closeToFull;\r\n        this.utilization = utilization;\r\n    }\r\n}\r\n\r\nclass SyncedStorageAdapter {\r\n\r\n    constructor() {\r\n        this._notes = SyncedStorage.get(\"user_notes\");\r\n    }\r\n\r\n    get(appid) {\r\n        return this._notes[appid] || null;\r\n    }\r\n\r\n    async set(appid, note) {\r\n\r\n        const oldNote = this._notes[appid];\r\n        this._notes[appid] = note;\r\n\r\n        const storageUsage = this._getNotesSize() / SyncedStorage.QUOTA_BYTES_PER_ITEM;\r\n        if (storageUsage > 1) {\r\n            this._notes[appid] = oldNote;\r\n            throw new OutOfCapacityError(storageUsage, \"Can't set this user note, out of capacity\");\r\n        }\r\n\r\n        await SyncedStorage.set(\"user_notes\", this._notes);\r\n\r\n        return new CapacityInfo(storageUsage > 0.85, storageUsage);\r\n    }\r\n\r\n    delete(appid) {\r\n        delete this._notes[appid];\r\n        return SyncedStorage.set(\"user_notes\", this._notes);\r\n    }\r\n\r\n    export() {\r\n        return this._notes;\r\n    }\r\n\r\n    import(notes) {\r\n\r\n        const storageUsage = this._getNotesSize(notes) / SyncedStorage.QUOTA_BYTES_PER_ITEM;\r\n        if (storageUsage > 1) {\r\n            throw new OutOfCapacityError(storageUsage, \"Import to synced storage failed, too much data for this adapter\");\r\n        }\r\n\r\n        this._notes = notes;\r\n        return SyncedStorage.set(\"user_notes\", this._notes);\r\n    }\r\n\r\n    clear() {\r\n        return SyncedStorage.remove(\"user_notes\");\r\n    }\r\n\r\n    _getNotesSize(notes = this._notes) {\r\n        return \"user_notes\".length + JSON.stringify(notes).length;\r\n    }\r\n}\r\n\r\nclass IdbAdapter {\r\n\r\n    get(appid) {\r\n        return BackgroundSimple.action(\"notes.get\", appid);\r\n    }\r\n\r\n    set(appid, note) {\r\n        return BackgroundSimple.action(\"notes.set\", appid, note);\r\n    }\r\n\r\n    delete(appid) {\r\n        return BackgroundSimple.action(\"notes.delete\", appid);\r\n    }\r\n\r\n    export() {\r\n        return BackgroundSimple.action(\"notes.getall\");\r\n    }\r\n\r\n    import(notes) {\r\n        return BackgroundSimple.action(\"notes.setall\", notes);\r\n    }\r\n\r\n    clear() {\r\n        return BackgroundSimple.action(\"notes.clear\");\r\n    }\r\n}\r\n\r\n/*\r\n * TODO Implement\r\n * class ItadAdapter extends IdbAdapter {}\r\n */\r\n\r\nUserNotesAdapter.adapters = Object.freeze({\r\n    \"synced_storage\": SyncedStorageAdapter,\r\n    \"idb\": IdbAdapter,\r\n    // \"itad\": ItadAdapter,\r\n});\r\n\r\nexport {CapacityInfo, OutOfCapacityError, UserNotesAdapter};\r\n","import {ChangelogBuilder} from \"./Modules/ChangelogBuilder\";\r\nimport {CustomLinks} from \"./Modules/CustomLinks\";\r\nimport {Fader} from \"./Modules/Fader\";\r\nimport {ITADConnectionManager} from \"./Modules/ITADConnectionManager\";\r\nimport {LocaleCreditsBuilder} from \"./Modules/LocaleCreditsBuilder\";\r\nimport {OptionsBuilder} from \"./Modules/OptionsBuilder\";\r\nimport {OptionsTranslator} from \"./Modules/OptionsTranslator\";\r\nimport {Region} from \"./Modules/Region\";\r\nimport {SaveIndicator} from \"./Modules/SaveIndicator\";\r\nimport {Sidebar} from \"./Modules/Sidebar\";\r\nimport {\r\n    Downloader, ExtensionResources, HTML, Info,\r\n    Localization, PermissionOptions, Permissions, SyncedStorage\r\n} from \"../modulesCore\";\r\nimport {StoreList} from \"./Modules/Data/StoreList\";\r\nimport {ContextMenu} from \"../Background/Modules/ContextMenu\";\r\nimport {UserNotesAdapter} from \"../Core/Storage/UserNotesAdapter\";\r\n\r\n// TODO this needs to be refactored and cleaned up\r\n\r\nconst Options = (() => {\r\n    const self = {};\r\n\r\n    let profileLinkImagesSelect;\r\n\r\n    function loadStores() {\r\n        const storesNode = document.querySelector(\".js-store-stores\");\r\n        const stores = SyncedStorage.get(\"stores\");\r\n\r\n        let html = \"\";\r\n\r\n        for (const store of StoreList) {\r\n            const id = store.id;\r\n            html += `<div class=\"option option--store\">\r\n                        <input type=\"checkbox\" id=\"${id}\"${(stores.length === 0 || stores.indexOf(id) !== -1) ? \" checked\" : \"\"}>\r\n                        <label for=\"${id}\">${store.title}</label>\r\n                    </div>`;\r\n        }\r\n\r\n        HTML.inner(storesNode, html);\r\n    }\r\n\r\n    function loadProfileLinkImages() {\r\n\r\n        const icons = document.querySelectorAll(\".es_sites_icons\");\r\n        switch (profileLinkImagesSelect.value) {\r\n            case \"color\": {\r\n                icons.forEach(icon => {\r\n                    icon.classList.toggle(\"es_gray\", false);\r\n                    icon.style.display = \"\";\r\n                });\r\n                break;\r\n            }\r\n            case \"gray\": {\r\n                icons.forEach(icon => {\r\n                    icon.classList.toggle(\"es_gray\", true);\r\n                    icon.style.display = \"\";\r\n                });\r\n                break;\r\n            }\r\n            case \"none\": {\r\n                icons.forEach(icon => { icon.style.display = \"none\"; });\r\n            }\r\n        }\r\n    }\r\n\r\n    // Restores select box state to saved value from SyncStorage.\r\n    let changelogLoaded;\r\n\r\n    function loadOptions() {\r\n\r\n        // Set the value or state for each input\r\n        const nodes = document.querySelectorAll(\"[data-setting]\");\r\n        for (const node of nodes) {\r\n            const setting = node.dataset.setting;\r\n            let value = SyncedStorage.get(setting);\r\n\r\n            if (node.type && node.type === \"checkbox\") {\r\n                node.checked = value;\r\n\r\n                const parentOption = node.closest(\".parent_option\");\r\n                if (parentOption) {\r\n                    if (node.id === \"showallstores\") { value = !value; }\r\n\r\n                    let nxt = parentOption.nextElementSibling;\r\n                    for (; nxt.classList.contains(\"js-sub-option\"); nxt = nxt.nextElementSibling) {\r\n                        nxt.classList.toggle(\"is-disabled\", !value);\r\n                    }\r\n                }\r\n            } else if (value) {\r\n                node.value = value;\r\n            }\r\n        }\r\n\r\n        document.querySelector(\".js-region-select\")\r\n            .classList.toggle(\"is-hidden\", SyncedStorage.get(\"showregionalprice\") === \"off\");\r\n\r\n        document.querySelector(\".js-region-world\")\r\n            .classList.toggle(\"is-hidden\", SyncedStorage.get(\"showregionalprice\") !== \"mouse\");\r\n\r\n        const language = SyncedStorage.get(\"language\");\r\n        if (language !== \"schinese\" && language !== \"tchinese\") {\r\n            const n = document.getElementById(\"profile_steamrepcn\");\r\n            if (n) {\r\n\r\n                // Hide SteamRepCN option if language isn't Chinese\r\n                n.parentNode.style.display = \"none\";\r\n            }\r\n        }\r\n\r\n        if (!changelogLoaded) {\r\n            (new ChangelogBuilder()).build();\r\n            changelogLoaded = true;\r\n        }\r\n\r\n        loadProfileLinkImages();\r\n        loadStores();\r\n\r\n        Region.populate();\r\n        self.customLinks.forEach(option => option.populate());\r\n    }\r\n\r\n    function importSettings({\"target\": input}) {\r\n        const reader = new FileReader();\r\n        reader.addEventListener(\"load\", () => {\r\n            let importedSettings;\r\n            try {\r\n                importedSettings = JSON.parse(reader.result);\r\n            } catch (err) {\r\n                console.group(\"Import\");\r\n                console.error(\"Failed to read settings file\");\r\n                console.error(err);\r\n                console.groupEnd();\r\n\r\n                // TODO do not use alert\r\n                // eslint-disable-next-line no-alert\r\n                window.alert(Localization.str.options.settings_mngmt.import_fail);\r\n                return;\r\n            }\r\n\r\n            delete importedSettings.version;\r\n\r\n            try {\r\n                SyncedStorage.import(importedSettings);\r\n            } catch (err) {\r\n                console.group(\"Import\");\r\n                console.error(\"Failed to write settings to storage\");\r\n                console.error(err);\r\n                console.groupEnd();\r\n\r\n                // TODO do not use alert\r\n                // eslint-disable-next-line no-alert\r\n                window.alert(Localization.str.options.settings_mngmt.import_fail);\r\n                return;\r\n            }\r\n\r\n            // TODO do not use alert\r\n            // eslint-disable-next-line no-alert\r\n            window.alert(Localization.str.options.settings_mngmt.import_success);\r\n            window.location.reload();\r\n        });\r\n        reader.readAsText(input.files[0]);\r\n    }\r\n\r\n    function exportSettings() {\r\n        Downloader.download(new Blob([SyncedStorage.toJson()]), `AugmentedSteam_v${Info.version}.json`);\r\n    }\r\n\r\n    function clearSettings() {\r\n        // TODO do not use confirm\r\n        // eslint-disable-next-line no-alert\r\n        if (!window.confirm(Localization.str.options.clear)) { return; }\r\n        SyncedStorage.clear(false);\r\n\r\n        SyncedStorage.then(loadOptions);\r\n\r\n        const node = document.querySelector(\".js-options-reset\");\r\n        if (node) {\r\n            Fader.fadeInFadeOut(node);\r\n        }\r\n    }\r\n\r\n    async function saveOption(option) {\r\n\r\n        SaveIndicator.saving();\r\n\r\n        let value;\r\n\r\n        if (option === \"stores\") {\r\n\r\n            value = [];\r\n            const nodes = document.querySelectorAll(\".js-store-stores input[type=checkbox]\");\r\n            for (const node of nodes) {\r\n                if (node.checked) {\r\n                    value.push(node.id);\r\n                }\r\n            }\r\n\r\n        } else {\r\n\r\n            const node = document.querySelector(`[data-setting='${option}']`);\r\n            if (!node) { return; }\r\n\r\n            if (node.type && node.type === \"checkbox\") {\r\n                value = node.checked;\r\n            } else {\r\n                value = node.value;\r\n            }\r\n\r\n            if (option === \"quickinv_diff\") {\r\n                value = parseFloat(value.trim()).toFixed(2);\r\n            }\r\n\r\n            if (PermissionOptions[option]) {\r\n                try {\r\n                    let success;\r\n                    if (value) {\r\n                        success = await Permissions.requestOption(option);\r\n                    } else {\r\n                        success = await Permissions.removeOption(option);\r\n                    }\r\n\r\n                    if (!success) {\r\n                        throw new Error(\"Could not grant / remove the permissions\");\r\n                    }\r\n\r\n                    if (PermissionOptions[option].permissions.includes(\"contextMenus\")) {\r\n                        ContextMenu.update();\r\n                    }\r\n                } catch (err) {\r\n                    console.error(err);\r\n\r\n                    // Don't save option\r\n                    if (node.type && node.type === \"checkbox\") {\r\n                        node.checked = !value;\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (option === \"user_notes_adapter\") {\r\n            await UserNotesAdapter.changeAdapter(value);\r\n        }\r\n\r\n        SyncedStorage.set(option, value);\r\n        SaveIndicator.saved();\r\n    }\r\n\r\n    function saveOptionFromEvent(e) {\r\n        if (!e.target || !e.target.closest) { return; } // \"blur\" fires when the window loses focus\r\n        const node = e.target.closest(\"[data-setting]\");\r\n        if (!node) {\r\n            if (e.target.closest(\".js-store-stores\")) {\r\n                saveOption(\"stores\");\r\n            }\r\n            return;\r\n        }\r\n        saveOption(node.dataset.setting);\r\n    }\r\n\r\n    function setValue(selector, value) {\r\n        const node = document.querySelector(selector);\r\n        node.value = value;\r\n        const setting = node.closest(\"[data-setting]\");\r\n        if (setting) {\r\n            saveOption(setting.dataset.setting);\r\n        }\r\n    }\r\n\r\n    function addCurrencies(currencies) {\r\n        const select = document.getElementById(\"override_price\");\r\n\r\n        currencies\r\n            .map(cu => cu.abbr)\r\n            .filter(cu => cu !== \"USD\") // already in HTML\r\n            .sort()\r\n            .forEach(currency => {\r\n                const el = document.createElement(\"option\");\r\n                el.value = currency;\r\n                el.innerText = currency;\r\n                select.appendChild(el);\r\n            });\r\n    }\r\n\r\n    self.init = async() => {\r\n        await SyncedStorage;\r\n\r\n        const currency = ExtensionResources.getJSON(\"json/currency.json\").then(addCurrencies);\r\n        await Promise.all([Localization, currency]);\r\n        const Defaults = SyncedStorage.defaults;\r\n        self.customLinks = [];\r\n        for (const container of document.querySelectorAll(\".js-customlinks\")) {\r\n            self.customLinks.push(new CustomLinks(container));\r\n        }\r\n\r\n        Region.init();\r\n        self.customLinks.forEach(option => option.init());\r\n\r\n        OptionsBuilder.build();\r\n\r\n        profileLinkImagesSelect = document.querySelector(\"select[data-setting='show_profile_link_images']\");\r\n        profileLinkImagesSelect.addEventListener(\"change\", loadProfileLinkImages);\r\n\r\n        loadOptions();\r\n\r\n        await OptionsTranslator.translate();\r\n        Sidebar.create();\r\n\r\n        await (new ITADConnectionManager()).run();\r\n\r\n        (new LocaleCreditsBuilder()).build();\r\n\r\n        function addHandlerToSetDefaultColor(key) {\r\n            document.getElementById(`${key}_default`)\r\n                .addEventListener(\"click\", () => { setValue(`#${key}_color`, Defaults[`${key}_color`]); });\r\n        }\r\n\r\n        [\"highlight_owned\",\r\n            \"highlight_wishlist\",\r\n            \"highlight_coupon\",\r\n            \"highlight_inv_gift\",\r\n            \"highlight_inv_guestpass\",\r\n            \"highlight_notinterested\",\r\n            \"highlight_waitlist\",\r\n            \"highlight_collection\",\r\n            \"tag_owned\",\r\n            \"tag_wishlist\",\r\n            \"tag_coupon\",\r\n            \"tag_inv_gift\",\r\n            \"tag_inv_guestpass\",\r\n            \"tag_notinterested\",\r\n            \"tag_collection\",\r\n            \"tag_waitlist\"].forEach(addHandlerToSetDefaultColor);\r\n\r\n        document.getElementById(\"spamcommentregex_default\")\r\n            .addEventListener(\"click\", () => setValue(\"#spamcommentregex\", \"[\\\\u2500-\\\\u25FF]\"));\r\n        document.getElementById(\"quickinv_default\")\r\n            .addEventListener(\"click\", () => setValue(\"#quickinv_diff\", \"-0.01\"));\r\n\r\n        document.getElementById(\"quickinv_diff\").addEventListener(\"blur\", () => {\r\n            if (isNaN(parseFloat(document.getElementById(\"quickinv_diff\").value))) {\r\n                setValue(\"#quickinv_diff\", \"-0.01\");\r\n            }\r\n        });\r\n\r\n        document.querySelector(\"select[data-setting='showregionalprice']\").addEventListener(\"change\", e => {\r\n            const node = e.target;\r\n\r\n            document.querySelector(\".js-region-select\")\r\n                .classList.toggle(\"is-hidden\", node.value === \"off\");\r\n            document.querySelector(\".js-region-world\")\r\n                .classList.toggle(\"is-hidden\", node.value !== \"mouse\");\r\n        });\r\n\r\n        document.querySelectorAll(\".parent_option\").forEach(parentOption => {\r\n            parentOption.querySelector(\"input\").addEventListener(\"change\", () => {\r\n                let nxt = parentOption.nextElementSibling;\r\n                for (; nxt.classList.contains(\"js-sub-option\"); nxt = nxt.nextElementSibling) {\r\n                    nxt.classList.toggle(\"is-disabled\");\r\n                }\r\n            });\r\n        });\r\n\r\n        const importInput = document.getElementById(\"import_input\");\r\n\r\n        importInput.addEventListener(\"change\", importSettings, false);\r\n        document.getElementById(\"import\").addEventListener(\"click\", () => { importInput.click(); });\r\n        document.getElementById(\"export\").addEventListener(\"click\", exportSettings);\r\n        document.querySelector(\".js-reset\").addEventListener(\"click\", clearSettings);\r\n\r\n        document.addEventListener(\"change\", saveOptionFromEvent);\r\n        document.addEventListener(\"blur\", saveOptionFromEvent);\r\n        document.addEventListener(\"select\", saveOptionFromEvent);\r\n    };\r\n\r\n    return self;\r\n})();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", Options.init);\r\n","\r\nclass Downloader {\r\n\r\n    static download(content, filename) {\r\n        const a = document.createElement(\"a\");\r\n        a.href = typeof content === \"string\" ? content : URL.createObjectURL(content);\r\n        a.download = filename;\r\n\r\n        // Explicitly dispatching the click event (instead of just a.click()) will make it work in FF\r\n        a.dispatchEvent(new MouseEvent(\"click\"));\r\n    }\r\n}\r\n\r\nexport {Downloader};\r\n","import {HTML} from \"../../Core/Html/Html\";\r\nimport OptionsSetup from \"./Data/OptionsSetup\";\r\nimport {OptionsTranslator} from \"./OptionsTranslator\";\r\n\r\nclass OptionsBuilder {\r\n\r\n    static _buildCheckboxes() {\r\n\r\n        const nodes = document.querySelectorAll(\"div[data-dynamic]\");\r\n        for (const node of nodes) {\r\n            const setting = node.dataset.dynamic;\r\n            const locale = OptionsTranslator.getTranslation(OptionsSetup[setting]) || OptionsSetup[setting];\r\n\r\n            node.classList.add(\"option\");\r\n\r\n            let button = \"\";\r\n            if (node.dataset.dynamicColor) {\r\n                button = `<div class=\"option__buttons\">\r\n                              <input type=\"color\" id=\"${setting}_color\" data-setting=\"${setting}_color\">\r\n                              <button id=\"${setting}_default\">${OptionsTranslator.getTranslation(\"theworddefault\")}</button>\r\n                          </div>`;\r\n            }\r\n\r\n            HTML.inner(node, `\r\n                <input type=\"checkbox\" id=\"${setting}\" data-setting=\"${setting}\">\r\n                <label class='option__label' for=\"${setting}\">${locale}</label>\r\n                ${button}`);\r\n        }\r\n\r\n    }\r\n\r\n    static _buildSelect() {\r\n\r\n        const nodes = document.querySelectorAll(\"div[data-dynamic-select]\");\r\n        for (const node of nodes) {\r\n            const setting = node.dataset.dynamicSelect;\r\n\r\n            const locale = OptionsTranslator.getTranslation(OptionsSetup[setting][0]);\r\n            const values = OptionsSetup[setting][1];\r\n\r\n            let optionsHtml = \"\";\r\n            for (const [optionValue, optionLocale] of values) {\r\n                optionsHtml += `<option value=\"${optionValue}\">${OptionsTranslator.getTranslation(optionLocale)}</option>`;\r\n            }\r\n\r\n            node.classList.add(\"option\");\r\n            HTML.inner(node, `\r\n                <label class='option__label' for=\"${setting}\">${locale}</label>\r\n                <select id=\"${setting}\" data-setting=\"${setting}\">${optionsHtml}</select>`);\r\n        }\r\n    }\r\n\r\n    static _buildWrapped() {\r\n\r\n        const nodes = document.querySelectorAll(\"div[data-dynamic-wrap]\");\r\n        for (const node of nodes) {\r\n            const setting = node.dataset.dynamicWrap;\r\n            node.classList.add(\"option\");\r\n            HTML.inner(node, `\r\n                    <input type=\"checkbox\" id=\"${setting}\" data-setting=\"${setting}\">\r\n                    <label class='option__label' for=\"${setting}\">${node.innerHTML}</label>\r\n                `);\r\n        }\r\n    }\r\n\r\n    static build() {\r\n        this._buildCheckboxes();\r\n        this._buildSelect();\r\n        this._buildWrapped();\r\n    }\r\n\r\n}\r\n\r\nexport {OptionsBuilder};\r\n"],"sourceRoot":""}