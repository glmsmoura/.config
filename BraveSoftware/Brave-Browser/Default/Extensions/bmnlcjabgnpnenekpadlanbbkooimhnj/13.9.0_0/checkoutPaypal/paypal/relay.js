(()=>{var e={3511:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4965),t)},1573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var n=r(5877),o=r(9260),s=function(){function e(e){var t=e.transport,r=e.defaultTimeoutMilliseconds,n=e.options;this.inflight={},this.connected=!1,this.transport=t,this.defaultTimeoutMilliseconds=r||100;var s=o.LoggingDriverNoop.createService();this.log=s,n&&n.log&&(this.log=n.log)}return e.prototype.connect=function(e){this.connected=!0,this.transport.connect({target:e,onMessage:this.onMessage.bind(this)})},e.prototype.disconnect=function(){this.connected=!1,this.transport.disconnect()},e.prototype.invoke=function(e,t){var r=this,o=void 0===t?{}:t,s=o.data,i=o.options;if(!this.connected)throw new Error("Unable to invoke action; no connection established. Did you remember to call Client.connect()");var a=this.defaultTimeoutMilliseconds,c={};i&&(i.transport&&(c=i.transport),i.timeoutMilliseconds&&(a=i.timeoutMilliseconds));var u=n.v4().toString(),l={data:s,meta:{messageId:u,type:"request",action:e}};return new Promise((function(t,n){var o={resolve:t,reject:n,timeoutId:void 0,action:l.meta.action};r.inflight[""+u]=o,r.log.debug("[@honeyscience/checkout-extension-messaging][Client][->]["+r.transport.getId()+"] ["+l.meta.action+"]",l.data),r.transport.send({message:l,options:c});var s=setTimeout((function(){var t=r.inflight[u];t&&(delete r.inflight[u],t.reject(new Error("Response for '"+e+"' exceeded "+a+"ms")))}),a);o.timeoutId=s}))},e.prototype.onMessage=function(e){var t=e.message;if(t&&t.meta){var r=t.meta.action,n=t.meta.messageId;if(n&&r){var o=this.inflight[n];if(o&&r==o.action){if(delete this.inflight[n],clearTimeout(o.timeoutId),t.errors)return this.log.error("[@honeyscience/checkout-extension-messaging][Client][<-]["+(this.transport.getId()||"unknown")+"] ["+t.meta.action+"]",t.errors),t.errors[0]&&t.errors[0].message?o.reject(new Error(t.errors[0].message)):o.reject(new Error("An unknown error occurred."));this.log.debug("[@honeyscience/checkout-extension-messaging][Client][<-]["+(this.transport.getId()||"unknown")+"] ["+t.meta.action+"]",t.data),o.resolve(t.data)}}}},e}();t.Client=s},4537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.send=t.subscribe=void 0,t.subscribe=function(e){var t=e.callback,r=!1;function n(e){t(e)}return window.addEventListener("message",n),{dispose:function(){r||(r=!0,window.removeEventListener("message",n))}}},t.send=function(e){var t=e.target,r=e.origin,n=e.message;t.postMessage(n,r)}},4965:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7871),t),o(r(4537),t),o(r(2213),t),o(r(1573),t)},2213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;var r=function(){function e(e){var t=e.transport;this.routes={},this.transport=t}return e.prototype.start=function(){this.transport.start(this.onMessage.bind(this))},e.prototype.stop=function(){this.transport.stop()},e.prototype.response=function(e){var t=e.message,r=e.target,n=e.context;this.transport.send({message:t,target:r,context:n})},e.prototype.handle=function(e,t){var r=this.transport.prepareHandle(e,t),n=r.actionType,o=r.handlerFunc;this.routes[n]=o},e.prototype.onMessage=function(e){var t=e.message,r=e.source,n=e.context;if(t&&t.meta){var o=t.meta.action,s=t.meta.messageId;if(s&&o){var i=this.routes[o];if(i){var a={meta:{action:o,messageId:s,type:"response"}};try{var c=i({message:t,source:r,context:n});c&&"object"==typeof c&&"function"==typeof c.then?this.onPromiseLikeResponse(c,a,{message:t,source:r,context:n}):(a.data=c,this.response({message:a,target:r,context:n}))}catch(e){a.errors=[{message:e.message||e.toString()}],this.response({message:a,target:r,context:n})}}}}},e.prototype.onPromiseLikeResponse=function(e,t,r){var n=this,o=r.source,s=r.context;return e.then((function(e){t.data=e,n.response({message:t,target:o,context:s})})).catch((function(e){t.errors=[{message:e.message||e.toString()}],n.response({message:t,target:o,context:s})}))},e}();t.Server=r},5810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameTransportClient=void 0;var r=function(){function e(e){var t=e.allowedOrigin,r=e.id;this.allowedOrigin=t,this.id=r}return e.prototype.getId=function(){return this.id},e.prototype.connect=function(e){var t=e.target,r=e.onMessage;this.target=t,this.subscription=this.subscribe({callback:r})},e.prototype.disconnect=function(){this.subscription&&(this.subscription.dispose(),this.target=void 0,this.subscription=void 0)},e.prototype.send=function(e){var t=e.message,r=this.target;if(!r)throw new Error("No connection available. Did you to call connect() before attempting to send a message");r.postMessage(t,this.allowedOrigin)},e.prototype.subscribe=function(e){var t=this,r=e.callback,n=!1,o=function(e){"*"!==t.allowedOrigin&&e.origin!=t.allowedOrigin||e.data&&e.data.meta&&"request"!==e.data.meta.type&&r({message:e.data,source:e.source,context:void 0})};return window.addEventListener("message",o),{dispose:function(){n||(n=!0,window.removeEventListener("message",o))}}},e}();t.FrameTransportClient=r},2963:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5810),t),o(r(8932),t),o(r(8959),t)},8932:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameTransportServer=void 0;var r=function(){function e(e){var t=e.allowedOrigins,r=e.id;this.id=r;for(var n=!1,o=0,s=t;o<s.length;o++)if("*"===s[o]){n=!0,this.allowedOrigins=["*"];break}n||(this.allowedOrigins=t)}return e.prototype.start=function(e){this.subscription=this.subscribe({callback:e})},e.prototype.stop=function(){this.subscription&&(this.subscription.dispose(),this.subscription=void 0)},e.prototype.send=function(e){var t=e.message,r=e.target,n=e.context;r&&n&&n.origin&&r.postMessage(t,n.origin)},e.prototype.prepareHandle=function(e,t){return{actionType:e,handlerFunc:t}},e.prototype.isEventOriginAllowed=function(e){if(void 0===e)return!0;for(var t=0,r=this.allowedOrigins;t<r.length;t++){var n=r[t];if("*"===n)return!0;if(n===e)return!0}return!1},e.prototype.subscribe=function(e){var t=this,r=e.callback,n=!1,o=function(e){t.isEventOriginAllowed(e.origin)&&e.data&&e.data.meta&&"response"!==e.data.meta.type&&r({message:e.data,source:e.source,context:{origin:e.origin}})};return window.addEventListener("message",o),{dispose:function(){n||(n=!0,window.removeEventListener("message",o))}}},e}();t.FrameTransportServer=r},8959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7893:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.HoneyMessagingTransportClient=t.dataSentinel=void 0;var o=r(5877);t.dataSentinel={};var s=function(){function e(e){var t=(void 0===e?{}:e).id,r=void 0===t?o.v4().toString():t;this.id=r}return e.makeTransportInterop=function(e){var t=e.honeyMessages,r=e.options,n=r.ignoreResponse,o=r.background,s=r.frameId,i=r.tabId;return{postMessage:function(e){var r={ignoreResponse:n,background:o,frameId:s,tab:i};return t.send(e.meta.action,e.data,r)}}},e.prototype.send=function(e){var r,o=e.message,s=e.options;if(!this.platform||!this.messageHandler)throw new Error("No platform available. Did you connect()");var i=s.src;i&&i.tabId&&(r=i.tabId),void 0===o.data&&(o.data=t.dataSentinel);var a=this.platform.postMessage(o,r);this.messageHandler(n(n({},o),{data:a}))},e.prototype.getId=function(){return this.id},e.prototype.connect=function(e){var t=e.target,r=e.onMessage;if(this.platform)throw new Error("Already connected to platform, please disconnect() before attempting to connect()");this.platform=t,this.subscription=this.subscribe({callback:r})},e.prototype.disconnect=function(){this.platform=void 0},e.prototype.subscribe=function(e){var t=this,r=e.callback,n=!1;if(!this.platform)throw new Error("Unable to subscribe, no port set, did you call connect()?");return this.messageHandler=function(e){if(e&&e.meta&&t.platform){var n={message:e,source:t.platform};r(n)}},{dispose:function(){n||(n=!0,t.platform)}}},e}();t.HoneyMessagingTransportClient=s},8044:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7893),t),o(r(1021),t),o(r(5180),t)},1021:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HoneyMessagingTransportServer=void 0;var s=r(5877),i=function(){function e(t){var r=t.id,n=void 0===r?s.v4().toString():r,o=t.target,i=t.responseTimeoutMilliseconds;this.honeyMessagesResponses={},this.id=n,this.platform=o,this.honeyMessagesListeners={},this.responseTimeoutMilliseconds=i||e.defaultResponseTimeoutMilliseconds}return e.prototype.connect=function(){throw new Error("Not Implemented in Servers, please use Server.start()")},e.prototype.disconnect=function(){throw new Error("Not Implemented in Servers, please use Server.stop()")},e.prototype.send=function(e){var t=e.message,r=e.context;r&&r.messageId&&(r.result=t.data,this.completeResponse(r))},e.prototype.completeResponse=function(e){var t=this.honeyMessagesResponses[e.messageId];t&&(t.resolve(e.result),this.flushResponse(e.messageId))},e.prototype.start=function(e){this.messageEnvelopeHandler=e},e.prototype.stop=function(){for(var e=0,t=Object.keys(this.honeyMessagesListeners);e<t.length;e++){var r=t[e];this.honeyMessagesListeners[r].dispose()}this.honeyMessagesListeners={}},e.prototype.flushResponse=function(e){var t=this.honeyMessagesResponses[e];if(t)return clearTimeout(t.timeoutId),delete this.honeyMessagesResponses[e],t},e.prototype.prepareHandle=function(e,t){var r=this;if(this.honeyMessagesListeners[e])throw new Error(e+" is already registered.");var i=function(e,t,i){return n(r,void 0,void 0,(function(){var r,n,a,c,u=this;return o(this,(function(o){switch(o.label){case 0:if(r=s.v4().toString(),n={source:{postMessage:function(){return i}},context:{result:null,src:i,messageId:r},message:{meta:{messageId:r,type:"request",action:e},data:t}},!this.messageEnvelopeHandler)throw new Error("Server was not started, please use Server.start()");return a={timeoutId:setTimeout((function(){var e=u.flushResponse(r);e&&e.reject(new Error("honey messaging transport: response timeout: exceeded "+u.responseTimeoutMilliseconds+"ms"))}),this.responseTimeoutMilliseconds),resolve:function(e){},reject:function(e){},promise:Promise.resolve(void 0)},c=new Promise((function(e,t){a.resolve=e,a.reject=t})),a.promise=c,this.honeyMessagesResponses[r]=a,n.context.messageId=r,this.messageEnvelopeHandler(n),[4,c];case 1:return[2,o.sent()]}}))}))};return this.platform.addListener(e,i),this.honeyMessagesListeners[e]={dispose:function(){return r.platform.removeListener(e,i)}},{actionType:e.toLowerCase(),handlerFunc:t}},e.defaultResponseTimeoutMilliseconds=3e5,e}();t.HoneyMessagingTransportServer=i},5180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4420:function(e,t,r){"use strict";var n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDriverBrowser=t.honeyLoggerExtensionPrefix=void 0;var s=r(2841),i=r(3893),a=((n={})[i.LogLevel.Trace]="trace",n[i.LogLevel.Debug]="debug",n[i.LogLevel.Info]="info",n[i.LogLevel.Warn]="warn",n[i.LogLevel.Error]="error",n);function c(e){return(new Date).toISOString()+" honey."+a[e]+":"}t.honeyLoggerExtensionPrefix=c;var u=function(){function e(e){var t=(void 0===e?{}:e).logLevel;this.logLevel=i.LogLevel.Error;var r=null!=t?t:i.LogLevel.None;this.rebuild({logLevel:r}),this.logLevel=r}return e.createService=function(t){var r=t.logLevel;return new s.LoggingService({driver:new e({logLevel:r})})},e.prototype.rebuild=function(e){var t=e.logLevel,r=function(){};this._trace=t>=i.LogLevel.Trace?console.trace.bind(window.console):r,this._debug=t>=i.LogLevel.Debug?console.log.bind(window.console):r,this._info=t>=i.LogLevel.Info?console.info.bind(window.console):r,this._warn=t>=i.LogLevel.Warn?console.warn.bind(window.console):r,this._error=t>=i.LogLevel.Error?console.error.bind(window.console):r},e.prototype.setLogLevel=function(e){this.logLevel=e,this.rebuild({logLevel:e})},e.prototype.getLogLevel=function(){return this.logLevel},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._trace.apply(this,o([c(this.logLevel)],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._debug.apply(this,o([c(this.logLevel)],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._info.apply(this,o([c(this.logLevel)],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._warn.apply(this,o([c(this.logLevel)],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._error.apply(this,o([c(this.logLevel)],e))},e}();t.LoggingDriverBrowser=u},9260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDriverNoop=void 0;var n=r(2841),o=function(){function e(){}return e.createService=function(){return new n.LoggingService({driver:new e})},e.prototype.setLogLevel=function(e){this.logLevel=e},e.prototype.getLogLevel=function(){return this.logLevel},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e}();t.LoggingDriverNoop=o},4122:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3893),t),o(r(2841),t)},2841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingService=void 0;var r=function(){function e(e){var t=e.driver;this.driver=t}return e.prototype.setLogLevel=function(e){this.driver.setLogLevel(e)},e.prototype.getLogLevel=function(){return this.driver.getLogLevel()},e.prototype.debug=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.driver).debug.apply(e,t)},e.prototype.info=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.driver).info.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.driver).warn.apply(e,t)},e.prototype.error=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.driver).error.apply(e,t)},e}();t.LoggingService=r},3893:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.None=-1]="None",r[r.Error=0]="Error",r[r.Warn=1]="Warn",r[r.Info=2]="Info",r[r.Debug=3]="Debug",r[r.Trace=4]="Trace"},7841:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),Promise.any=e=>r(void 0,void 0,void 0,(function*(){return new Promise(((t,r)=>{let n=!1,o=0,s=[];const i=e=>{n||(n=!0,t(e))},a=e=>{s.push(e),s.length>=o&&r(s)};for(let t of e)if(o++,void 0!==t.then){let e=t;e.then((e=>i(e))),void 0!==t.catch&&e.catch((e=>a(e)))}}))}))},2226:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundServer=t.BackgroundAction=void 0;var s,i=r(3511);(s=t.BackgroundAction||(t.BackgroundAction={})).FrameIds="87f7056f-b146-4a3f-8ef5-e1180a94932a/background/frameIds",s.FrameIdsRemove="87f7056f-b146-4a3f-8ef5-e1180a94932a/background/frameIdsRemove",s.ExecuteScript="87f7056f-b146-4a3f-8ef5-e1180a94932a/background/executeScript",s.SendMessage="87f7056f-b146-4a3f-8ef5-e1180a94932a/background/sendMessage",s.RelayReady="87f7056f-b146-4a3f-8ef5-e1180a94932a/background/relayReady";var a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(i.Server);t.BackgroundServer=a},5931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={honey:{clientTimeoutMilliseconds:5e3,discoveryTimeoutMilliseconds:5e3,createOrderTimeoutMilliseconds:3e4},paypal:{clientTimeoutMilliseconds:5e3,discoveryTimeoutMilliseconds:5e3,createOrderTimeoutMilliseconds:3e4}}},5088:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PayPalCheckoutClient=void 0;var s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(r(3511).Client);t.PayPalCheckoutClient=s},2982:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PayPalCheckoutServer=t.PayPalCheckoutAction=void 0;var s,i=r(3511);(s=t.PayPalCheckoutAction||(t.PayPalCheckoutAction={})).CreateOrder="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/create",s.ApproveOrder="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/approve",s.CancelOrder="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/cancel",s.ErrorOrder="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/error",s.PayPalConfig="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/config",s.Version="a5cf9562-f334-41c3-aa9c-cf07aaa24cbe/paypal/order/version";var a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(i.Server);t.PayPalCheckoutServer=a},4642:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Messenger=t.initialize=void 0,r(7841);var s,i=r(5877);function a(e){return e.trim().toLowerCase()}var c=!1;t.initialize=function(e,t){c||(c=!0,s=e,u.platform=t,t.onMessage((function(e,t,r){if(!e)return!1;if(e.dest&&e.dest.bgFrame){if("messages:cs"!==e.service)return!1}else if("messages:bg"!==e.service)return!1;return function(e,t,r,s){return n(this,void 0,void 0,(function(){var i,a,c,l=this;return o(this,(function(f){return(i=u.listeners[t])&&Array.isArray(i)&&0!==i.length?(a=i.slice(0),c=a.map((function(i){return n(l,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:if(!i)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i(t,r,s)];case 2:return[2,o.sent()];case 3:throw n=o.sent(),e.error("honey messages: content messenger: deliverContentMessage: handler: "+n.message),n;case 4:return[2]}}))}))})),[2,Promise.any(c)]):[2]}))}))}(s,e.type,JSON.parse(e.content),e.src).then((function(e){try{r({success:!0,data:e})}catch(e){}})).catch((function(e){try{r({success:!1,error:{name:e&&e.name||"MessageListenerError",message:e&&e.message,stack:e&&e.stack,data:e&&e.data}})}catch(e){}})),!0})))};var u=function(){function e(){}return e.send=function(e,t,r){return n(this,void 0,void 0,(function(){var n;return o(this,(function(o){return n={service:"messages:cs",type:a(e),dest:r,content:JSON.stringify(t)},s.debug("honey messages: content messenger: send",n),[2,this.platform.runtimeSendMessage({message:n})]}))}))},e.addListener=function(e,t){if(!c)throw new Error("honey messages: content messenger: not initialized; please invoke initialize() before adding a listener");if(!e)throw new Error("honey messages: content messenger: addListener: missing name");if(!t)throw new Error("honey messages: content messenger: addListener: missing handler");a(e);var r=this.listeners[e]||[];r.indexOf(t)>0||(r.push(t),this.listeners[e]=r)},e.removeListener=function(e,t){if(!c)throw new Error("honey messages: content messenger: not initialized; please invoke initialize() before removing a listener");a(e);var r=this.listeners[e];if(r){var n=r.indexOf(t);n<0||(r.splice(n,1),this.listeners[e]=r,0===r.length&&delete this.listeners[e])}},e.id=i.v4(),e.listeners={},e}();t.Messenger=u},3270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4642);t.default={content:{initialize:n.initialize,messenger:n.Messenger}}},3138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserPlatform=void 0;var n=r(4317),o=function(){function e(){}return e.prototype.getHandle=function(){return n.PlatformHandle.Browser},e.prototype.getRuntimeUrl=function(e){var t=e.path;return browser.runtime.getURL(t)},e.prototype.tabSendMessage=function(e){var t=e.tabId,r=e.frameId,n=e.message,o={frameId:r};browser.tabs.sendMessage(t,n,o)},e.prototype.runtimeSendMessage=function(e){var t=e.message;return t?t.dest&&t.dest.ignoreResponse?(browser.runtime.sendMessage(t),Promise.resolve()):new Promise((function(e,r){browser.runtime.sendMessage(t,null,(function(n){if(browser.runtime.lastError){var o=new Error("browser: runtime: sendMessage: "+browser.runtime.lastError.message);r(o)}else if(n.success)e(n.data);else{var s=n&&n.error;(o=new Error(s&&s.message)).sentMessage=t,s&&(o.data=s.data,o.stack=""+(o.stack||"")+(s.stack||"")),r(o)}}))})):Promise.reject(new Error("browser: runtime: sendMessage: missing message"))},e.prototype.onMessage=function(e){return browser.runtime.onMessage.addListener(e),{dispose:function(){browser.runtime.onMessage.removeListener(e)}}},e}();t.BrowserPlatform=o},9621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePlatform=void 0;var n=r(4317),o=function(){function e(){}return e.prototype.getHandle=function(){return n.PlatformHandle.Chrome},e.prototype.getRuntimeUrl=function(e){var t=e.path;return chrome.runtime.getURL(t)},e.prototype.tabSendMessage=function(e){var t=e.tabId,r=e.frameId,n=e.message,o={frameId:r};chrome.tabs.sendMessage(t,n,o)},e.prototype.runtimeSendMessage=function(e){var t=e.message;return t?t.dest&&t.dest.ignoreResponse?(chrome.runtime.sendMessage(t),Promise.resolve()):new Promise((function(e,r){chrome.runtime.sendMessage(t,null,(function(n){if(chrome.runtime.lastError){var o=new Error("chrome: runtime: sendMessage: "+chrome.runtime.lastError.message);r(o)}else if(n.success)e(n.data);else{var s=n&&n.error;(o=new Error(s&&s.message)).sentMessage=t,s&&(o.data=s.data,o.stack=""+(o.stack||"")+(s.stack||"")),r(o)}}))})):Promise.reject(new Error("chrome: runtime: sendMessage: missing message"))},e.prototype.onMessage=function(e){return chrome.runtime.onMessage.addListener(e),{dispose:function(){chrome.runtime.onMessage.removeListener(e)}}},e}();t.ChromePlatform=o},5940:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8243),t)},1879:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafariPlatform=void 0;var n=r(4317),o=function(){function e(){}return e.prototype.getHandle=function(){return n.PlatformHandle.Safari},e.prototype.getRuntimeUrl=function(e){var t=e.path;return browser&&browser.runtime?browser.runtime.getURL(t):safari.runtime?safari.runtime.getURL(t):safari.extension&&safari.extension.getURL?safari.extension.getURL(t):t},e.prototype.tabSendMessage=function(e){var t=e.tabId,r=e.frameId,n=e.message,o={frameId:r};browser&&browser.tabs&&browser.tabs.sendMessage&&browser.tabs.sendMessage(t,n,o),safari&&safari.tabs&&safari.tabs.sendMessage&&safari.tabs.sendMessage(t,n,o)},e.prototype._runtimeSendMessage=function(e){var t=e.message,r=e.browser;return t?t.dest&&t.dest.ignoreResponse?(r.runtime.sendMessage(t),Promise.resolve()):new Promise((function(e,n){r.runtime.sendMessage(t,null,(function(o){if(r.runtime.lastError){var s=new Error("browser: runtime: sendMessage: "+r.runtime.lastError.message);n(s)}else if(o.success)e(o.data);else{var i=o&&o.error;(s=new Error(i&&i.message)).sentMessage=t,i&&(s.data=i.data,s.stack=""+(s.stack||"")+(i.stack||"")),n(s)}}))})):Promise.reject(new Error("browser: runtime: sendMessage: missing message"))},e.prototype.runtimeSendMessage=function(e){var t=e.message;return browser&&browser.runtime&&browser.runtime.sendMessage?this._runtimeSendMessage({message:t,browser}):safari&&safari.runtime&&safari.runtime.sendMessage?this._runtimeSendMessage({message:t,browser:safari}):Promise.reject(new Error("safari: runtime: sendMessage: sendMessage is unavailable"))},e.prototype.onMessage=function(e){return browser&&browser.runtime&&browser.runtime.onMessage?(browser.runtime.onMessage.addListener(e),{dispose:function(){browser.runtime.onMessage.removeListener(e)}}):safari&&safari.runtime&&safari.runtime.onMessage?(safari.runtime.onMessage.addListener(e),{dispose:function(){safari.runtime.onMessage.removeListener(e)}}):{dispose:function(){}}},e}();t.SafariPlatform=o},8243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=t.discoverContentPlatform=void 0;var n=r(3138),o=r(9621),s=r(1879),i=r(4428),a=r(4317);function c(){return"undefined"!=typeof browser?a.PlatformHandle.Browser:"undefined"!=typeof chrome?a.PlatformHandle.Chrome:"undefined"!=typeof safari?a.PlatformHandle.Safari:a.PlatformHandle.Unknown}t.discoverContentPlatform=c;var u=function(){function e(e){var t=e.platform;this.platform=t}return e.create=function(){var t,r=((t={})[a.PlatformHandle.Unknown]=function(){return new e({platform:new i.UnknownPlatform})},t[a.PlatformHandle.Safari]=function(){return new e({platform:new s.SafariPlatform})},t[a.PlatformHandle.Browser]=function(){return new e({platform:new n.BrowserPlatform})},t[a.PlatformHandle.Chrome]=function(){return new e({platform:new o.ChromePlatform})},t)[c()];return r?r():new e({platform:new i.UnknownPlatform})},e.prototype.getHandle=function(){return this.platform.getHandle()},e.prototype.getRuntimeUrl=function(e){var t=e.path;return this.platform.getRuntimeUrl({path:t})},e.prototype.tabSendMessage=function(e){var t=e.tabId,r=e.frameId,n=e.message;this.platform.tabSendMessage({tabId:t,frameId:r,message:n})},e.prototype.runtimeSendMessage=function(e){var t=e.message;return this.platform.runtimeSendMessage({message:t})},e.prototype.onMessage=function(e){return this.platform.onMessage(e)},e.prototype.injectScriptElement=function(e){var t=e.path,r=document.createElement("script");r.src=this.platform.getRuntimeUrl({path:t}),(document.head||document.documentElement).appendChild(r)},e}();t.PlatformService=u},4317:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformHandle=void 0,(r=t.PlatformHandle||(t.PlatformHandle={})).Safari="safari",r.Chrome="chrome",r.Browser="browser",r.Unknown="unknown"},4428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownPlatform=void 0;var n=r(4317),o=function(){function e(){}return e.prototype.getHandle=function(){return n.PlatformHandle.Unknown},e.prototype.getRuntimeUrl=function(e){return e.path},e.prototype.tabSendMessage=function(e){},e.prototype.runtimeSendMessage=function(e){return Promise.resolve()},e.prototype.onMessage=function(e){return{dispose:function(){}}},e}();t.UnknownPlatform=o},6897:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoveryRelayClient=void 0;var s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(r(3511).Client);t.DiscoveryRelayClient=s},3314:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(5877),a=r(4122),c=r(4420),u=r(2963),l=r(8044),f=r(2982),d=r(5674),p=r(6897),g=r(5940),v=r(5088),h=r(5931),m=r(2226),y=s(r(3270)),b=a.LogLevel.Debug,w=c.LoggingDriverBrowser.createService({logLevel:b}),_="[CheckoutPaypal/PayPal/relay]";function P(e){w.debug(_+" Gracefully handling error: "+e)}function M(e){var t=(void 0===e?{}:e).error,r=window.__honeyConfig,n=l.HoneyMessagingTransportClient.makeTransportInterop({honeyMessages:y.default.content.messenger,options:{ignoreResponse:!0,background:!0,frameId:0,tabId:r.tabId}}),o=new l.HoneyMessagingTransportClient({id:"PayPal Relay Discovery <-> Content Discovery Relay"}),s=new p.DiscoveryRelayClient({transport:o,defaultTimeoutMilliseconds:h.config.paypal.discoveryTimeoutMilliseconds,options:{log:w}}),i={errors:t?[{message:t}]:void 0,tabId:r.tabId,frameId:r.frameId};return s.connect(n),s.invoke(d.DiscoveryRelayAction.DiscoveredPayPal,{data:i}).then((function(){s.disconnect()})).catch(P)}setTimeout((function(){var e=g.PlatformService.create();y.default.content.initialize(w,e);var t=i.v4(),r=e.onMessage((function(e){e&&e.configId===t&&(t=null,r.dispose(),!e.contentScriptOrigin||0==e.contentScriptOrigin.length||isNaN(parseInt(e.deployStart,10))||isNaN(parseInt(e.tabId,10))||isNaN(parseInt(e.frameId,10))||(r.dispose(),window.__honeyConfig=e,function(){var e=g.PlatformService.create();w.debug(_+" Starting relay ("+e.getHandle()+") ("+window.location.href+")");var t=new u.FrameTransportServer({allowedOrigins:[window.location.origin]}),r=new d.DiscoveryRelayServer({transport:t});r.handle(d.DiscoveryRelayAction.DiscoveredPayPal,(function(e){var t=e.message.data.errors;if(t){var s=t[0];return s&&s.message?M({error:s.message}).then((function(){r.stop()})):M({error:"An unknown error occurred"}).then((function(){r.stop()}))}return function(){return n(this,void 0,void 0,(function(){var e,t,r,n;return o(this,(function(o){return w.debug(_+" Initializing ("+window.location.origin+")"),e=new l.HoneyMessagingTransportServer({target:y.default.content.messenger}),t=new f.PayPalCheckoutServer({transport:e}),r=new u.FrameTransportClient({allowedOrigin:window.location.origin,id:"PayPal Relay <-> PayPal Context"}),(n=new v.PayPalCheckoutClient({transport:r,defaultTimeoutMilliseconds:h.config.paypal.clientTimeoutMilliseconds,options:{log:w}})).connect(window),t.handle(f.PayPalCheckoutAction.CreateOrder,(function(e){return n.invoke(f.PayPalCheckoutAction.CreateOrder,{data:e.message.data,options:{timeoutMilliseconds:h.config.paypal.createOrderTimeoutMilliseconds}})})),t.handle(f.PayPalCheckoutAction.ApproveOrder,(function(e){return n.invoke(f.PayPalCheckoutAction.ApproveOrder,{data:e.message.data})})),t.handle(f.PayPalCheckoutAction.CancelOrder,(function(e){return n.invoke(f.PayPalCheckoutAction.CancelOrder,{data:e.message.data})})),t.handle(f.PayPalCheckoutAction.ErrorOrder,(function(e){return n.invoke(f.PayPalCheckoutAction.ErrorOrder,{data:e.message.data})})),t.handle(f.PayPalCheckoutAction.PayPalConfig,(function(e){return n.invoke(f.PayPalCheckoutAction.PayPalConfig,{data:e.message.data})})),t.handle(f.PayPalCheckoutAction.Version,(function(e){return n.invoke(f.PayPalCheckoutAction.Version,{data:e.message.data})})),t.start(),[2]}))}))}().then((function(){return M()})).then((function(){r.stop()}))})),r.start(),w.debug(_+" Deploying context ("+window.location.href+")"),e.injectScriptElement({path:"/checkoutPaypal/paypal/context.js"})}()))})),s={meta:{action:"checkout/relay-ready",messageId:t}};y.default.content.messenger.send(m.BackgroundAction.RelayReady,s,{background:!0,ignoreResponse:!0})}),0)},5674:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoveryRelayServer=t.DiscoveryRelayAction=void 0;var s,i=r(3511);(s=t.DiscoveryRelayAction||(t.DiscoveryRelayAction={})).DiscoveredPayPal="9ac7ac40-5417-4a34-a35c-acb253c4bb47/checkout/relay/discovery/paypal",s.DiscoveredHoney="9ac7ac40-5417-4a34-a35c-acb253c4bb47/checkout/relay/discovery/honey",s.Deployed="9ac7ac40-5417-4a34-a35c-acb253c4bb47/deployed";var a=function(e){function t(t){var r=t.transport;return e.call(this,{transport:r})||this}return o(t,e),t}(i.Server);t.DiscoveryRelayServer=a},5877:(e,t,r)=>{var n=r(3570),o=r(1171),s=o;s.v1=n,s.v4=o,e.exports=s},5327:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},5217:(e,t,r)=>{var n,o=r.g.crypto||r.g.msCrypto;if(o&&o.getRandomValues){var s=new Uint8Array(16);n=function(){return o.getRandomValues(s),s}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n},3570:(e,t,r)=>{var n=r(5217),o=r(5327),s=n(),i=[1|s[0],s[1],s[2],s[3],s[4],s[5]],a=16383&(s[6]<<8|s[7]),c=0,u=0;e.exports=function(e,t,r){var n=t&&r||0,s=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:a,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:u+1,p=f-c+(d-u)/1e4;if(p<0&&void 0===e.clockseq&&(l=l+1&16383),(p<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=d,a=l;var g=(1e4*(268435455&(f+=122192928e5))+d)%4294967296;s[n++]=g>>>24&255,s[n++]=g>>>16&255,s[n++]=g>>>8&255,s[n++]=255&g;var v=f/4294967296*1e4&268435455;s[n++]=v>>>8&255,s[n++]=255&v,s[n++]=v>>>24&15|16,s[n++]=v>>>16&255,s[n++]=l>>>8|128,s[n++]=255&l;for(var h=e.node||i,m=0;m<6;++m)s[n+m]=h[m];return t||o(s)}},1171:(e,t,r)=>{var n=r(5217),o=r(5327);e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[s+a]=i[a];return t||o(i)}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(3314)})();